Supabase CLI 2.0.0
Resetting local database...
2024/12/16 18:41:30 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:30 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:30 Send Done
2024/12/16 18:41:31 Recv First Byte
2024/12/16 18:41:31 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:31 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:31 Send Done
2024/12/16 18:41:31 Recv First Byte
Recreating database...
2024/12/16 18:41:31 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:31 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:31 Send Done
2024/12/16 18:41:31 Recv First Byte
2024/12/16 18:41:31 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:31 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:31 Sent Header: Content-Length [301]
2024/12/16 18:41:31 Sent Header: Content-Type [application/json]
2024/12/16 18:41:31 Send Done
2024/12/16 18:41:31 Recv First Byte
2024/12/16 18:41:31 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:31 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:31 Sent Header: Content-Length [157]
2024/12/16 18:41:31 Sent Header: Content-Type [application/json]
2024/12/16 18:41:31 Send Done
2024/12/16 18:41:31 Recv First Byte
2024/12/16 18:41:31 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:31 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:31 Sent Header: Content-Length [161]
2024/12/16 18:41:31 Sent Header: Content-Type [application/json]
2024/12/16 18:41:31 Send Done
2024/12/16 18:41:31 Recv First Byte
2024/12/16 18:41:31 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:31 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:31 Sent Header: Content-Length [12774]
2024/12/16 18:41:31 Sent Header: Content-Type [application/json]
2024/12/16 18:41:31 Send Done
2024/12/16 18:41:31 Recv First Byte
2024/12/16 18:41:31 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:31 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:31 Sent Header: Content-Length [0]
2024/12/16 18:41:31 Send Done
2024/12/16 18:41:32 Recv First Byte
2024/12/16 18:41:32 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:32 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:32 Send Done
2024/12/16 18:41:32 Recv First Byte
2024/12/16 18:41:33 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:33 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:33 Send Done
2024/12/16 18:41:33 Recv First Byte
2024/12/16 18:41:34 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:34 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:34 Send Done
2024/12/16 18:41:34 Recv First Byte
2024/12/16 18:41:35 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:35 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:35 Send Done
2024/12/16 18:41:35 Recv First Byte
2024/12/16 18:41:36 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:36 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:36 Send Done
2024/12/16 18:41:36 Recv First Byte
2024/12/16 18:41:37 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:37 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:37 Send Done
2024/12/16 18:41:37 Recv First Byte
2024/12/16 18:41:38 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:38 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:38 Send Done
2024/12/16 18:41:38 Recv First Byte
2024/12/16 18:41:39 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:39 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:39 Send Done
2024/12/16 18:41:39 Recv First Byte
2024/12/16 18:41:40 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:40 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:40 Send Done
2024/12/16 18:41:40 Recv First Byte
2024/12/16 18:41:41 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:41 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:41 Send Done
2024/12/16 18:41:41 Recv First Byte
2024/12/16 18:41:42 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:42 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:42 Send Done
2024/12/16 18:41:42 Recv First Byte
2024/12/16 18:41:42 Connect Start: tcp 127.0.0.1:54322
2024/12/16 18:41:42 Connect Done: tcp 127.0.0.1:54322
2024/12/16 18:41:42 PG Send: {"Type":"StartupMessage","ProtocolVersion":196608,"Parameters":{"database":"postgres","user":"postgres"}}
2024/12/16 18:41:42 PG Recv: {"Type":"AuthenticationSASL","AuthMechanisms":["SCRAM-SHA-256"]}
2024/12/16 18:41:42 PG Send: {"Type":"SASLInitialResponse","AuthMechanism":"SCRAM-SHA-256","Data":"n,,n=,r=pWf4dUWQSmbAeWEruqb+lk/h"}
2024/12/16 18:41:42 PG Recv: {"Type":"AuthenticationSASLContinue","Data":"r=pWf4dUWQSmbAeWEruqb+lk/hewg0y5RUUDNE820O9sNONcgq,s=14ZDCUkmx3c+vrJdGY9tmA==,i=4096"}
2024/12/16 18:41:42 PG Send: {"Type":"SASLResponse","Data":"c=biws,r=pWf4dUWQSmbAeWEruqb+lk/hewg0y5RUUDNE820O9sNONcgq,p=PEpzOLuYkrRIPnzBQbmlajbUk14GbXsfeguO3bBx0Rs="}
2024/12/16 18:41:42 PG Recv: {"Type":"AuthenticationSASLFinal","Data":"v=TM8FOGyHMYsBzz6WO4yqOmuaJef0zBw/wcoFaXxabfU="}
2024/12/16 18:41:42 PG Recv: {"Type":"AuthenticationOK"}
2024/12/16 18:41:42 PG Recv: {"Type":"ParameterStatus","Name":"application_name","Value":""}
2024/12/16 18:41:42 PG Recv: {"Type":"ParameterStatus","Name":"client_encoding","Value":"UTF8"}
2024/12/16 18:41:42 PG Recv: {"Type":"ParameterStatus","Name":"DateStyle","Value":"ISO, MDY"}
2024/12/16 18:41:42 PG Recv: {"Type":"ParameterStatus","Name":"default_transaction_read_only","Value":"off"}
2024/12/16 18:41:42 PG Recv: {"Type":"ParameterStatus","Name":"in_hot_standby","Value":"off"}
2024/12/16 18:41:42 PG Recv: {"Type":"ParameterStatus","Name":"integer_datetimes","Value":"on"}
2024/12/16 18:41:42 PG Recv: {"Type":"ParameterStatus","Name":"IntervalStyle","Value":"postgres"}
2024/12/16 18:41:42 PG Recv: {"Type":"ParameterStatus","Name":"is_superuser","Value":"off"}
2024/12/16 18:41:42 PG Recv: {"Type":"ParameterStatus","Name":"server_encoding","Value":"UTF8"}
2024/12/16 18:41:42 PG Recv: {"Type":"ParameterStatus","Name":"server_version","Value":"15.6"}
2024/12/16 18:41:42 PG Recv: {"Type":"ParameterStatus","Name":"session_authorization","Value":"postgres"}
2024/12/16 18:41:42 PG Recv: {"Type":"ParameterStatus","Name":"standard_conforming_strings","Value":"on"}
2024/12/16 18:41:42 PG Recv: {"Type":"ParameterStatus","Name":"TimeZone","Value":"UTC"}
2024/12/16 18:41:42 PG Recv: {"Type":"BackendKeyData","ProcessID":192,"SecretKey":723748722}
2024/12/16 18:41:42 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Setting up initial schema...
2024/12/16 18:41:42 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:42 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:42 Send Done
2024/12/16 18:41:43 Recv First Byte
2024/12/16 18:41:43 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:43 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:43 Sent Header: Content-Length [301]
2024/12/16 18:41:43 Sent Header: Content-Type [application/json]
2024/12/16 18:41:43 Send Done
2024/12/16 18:41:43 Recv First Byte
2024/12/16 18:41:43 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:43 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:43 Sent Header: Content-Length [2406]
2024/12/16 18:41:43 Sent Header: Content-Type [application/json]
2024/12/16 18:41:43 Send Done
2024/12/16 18:41:43 Recv First Byte
2024/12/16 18:41:43 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:43 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:43 Sent Header: Content-Length [0]
2024/12/16 18:41:43 Send Done
2024/12/16 18:41:43 Recv First Byte
2024/12/16 18:41:43 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:43 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:43 Send Done
2024/12/16 18:41:43 Recv First Byte
+ ulimit -n
+ '[' '!' -z '' ']'
+ export ERL_CRASH_DUMP=/tmp/erl_crash.dump
+ ERL_CRASH_DUMP=/tmp/erl_crash.dump
+ '[' false = true ']'
+ echo 'Running migrations'
+ sudo -E -u nobody /app/bin/migrate
+ '[' true = true ']'
+ echo 'Seeding selfhosted Realtime'
+ sudo -E -u nobody /app/bin/realtime eval 'Realtime.Release.seeds(Realtime.Repo)'
+ echo 'Starting Realtime'
+ ulimit -n
+ exec /app/bin/realtime eval '{:ok, _} = Application.ensure_all_started(:realtime)
{:ok, _} = Realtime.Tenants.health_check("realtime-dev")'
[os_mon] memory supervisor port (memsup): Erlang has closed
[os_mon] cpu supervisor port (cpu_sup): Erlang has closed
2024/12/16 18:41:47 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:47 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:47 Send Done
2024/12/16 18:41:47 Recv First Byte
2024/12/16 18:41:47 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:47 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:47 Send Done
2024/12/16 18:41:47 Recv First Byte
2024/12/16 18:41:47 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:47 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:47 Sent Header: Content-Length [301]
2024/12/16 18:41:47 Sent Header: Content-Type [application/json]
2024/12/16 18:41:47 Send Done
2024/12/16 18:41:47 Recv First Byte
2024/12/16 18:41:47 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:47 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:47 Sent Header: Content-Length [2387]
2024/12/16 18:41:47 Sent Header: Content-Type [application/json]
2024/12/16 18:41:47 Send Done
2024/12/16 18:41:47 Recv First Byte
2024/12/16 18:41:47 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:47 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:47 Sent Header: Content-Length [0]
2024/12/16 18:41:47 Send Done
2024/12/16 18:41:47 Recv First Byte
2024/12/16 18:41:47 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:47 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:47 Send Done
2024/12/16 18:41:47 Recv First Byte
2024/12/16 18:41:48 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:48 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:48 Send Done
2024/12/16 18:41:48 Recv First Byte
2024/12/16 18:41:48 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:48 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:48 Send Done
2024/12/16 18:41:48 Recv First Byte
2024/12/16 18:41:48 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:48 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:48 Sent Header: Content-Length [301]
2024/12/16 18:41:48 Sent Header: Content-Type [application/json]
2024/12/16 18:41:48 Send Done
2024/12/16 18:41:48 Recv First Byte
2024/12/16 18:41:48 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:48 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:48 Sent Header: Content-Length [2000]
2024/12/16 18:41:48 Sent Header: Content-Type [application/json]
2024/12/16 18:41:48 Send Done
2024/12/16 18:41:48 Recv First Byte
2024/12/16 18:41:48 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:48 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:48 Sent Header: Content-Length [0]
2024/12/16 18:41:48 Send Done
2024/12/16 18:41:48 Recv First Byte
2024/12/16 18:41:48 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:48 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:48 Send Done
2024/12/16 18:41:48 Recv First Byte
2024/12/16 18:41:49 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:49 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:49 Send Done
2024/12/16 18:41:49 Recv First Byte
Seeding globals from roles.sql...
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"SET LOCAL lock_timeout = '4s'","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE SCHEMA IF NOT EXISTS supabase_migrations","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE TABLE IF NOT EXISTS supabase_migrations.schema_migrations (version text NOT NULL PRIMARY KEY)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE supabase_migrations.schema_migrations ADD COLUMN IF NOT EXISTS statements text[]","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE supabase_migrations.schema_migrations ADD COLUMN IF NOT EXISTS name text","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"WARNING","SeverityUnlocalized":"WARNING","Code":"25P01","Message":"SET LOCAL can only be used in transaction blocks","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"xact.c","Line":3577,"Routine":"CheckTransactionBlock","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"SET"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE SCHEMA"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Applying migration 20240101000000_initial_schema.sql...
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Enable required extensions\nCREATE EXTENSION IF NOT EXISTS \"uuid-ossp\"","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE EXTENSION IF NOT EXISTS \"pgcrypto\"","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create users table\nCREATE TABLE IF NOT EXISTS users (\n    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n    email TEXT UNIQUE NOT NULL,\n    name TEXT,\n    password TEXT NOT NULL,\n    token TEXT,\n    role TEXT DEFAULT 'user' CHECK (role IN ('user', 'admin')),\n    last_login_at TIMESTAMPTZ,\n    is_active BOOLEAN DEFAULT true,\n    created_at TIMESTAMPTZ DEFAULT now(),\n    updated_at TIMESTAMPTZ DEFAULT now()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create niches table\nCREATE TABLE IF NOT EXISTS niches (\n    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n    name TEXT NOT NULL,\n    user_id UUID REFERENCES users(id) ON DELETE CASCADE,\n    description TEXT,\n    status TEXT DEFAULT 'pending' CHECK (status IN ('pending', 'approved', 'rejected', 'in_progress')),\n    created_at TIMESTAMPTZ DEFAULT now(),\n    updated_at TIMESTAMPTZ DEFAULT now()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create pillars table\nCREATE TABLE IF NOT EXISTS pillars (\n    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n    title TEXT NOT NULL,\n    niche_id UUID REFERENCES niches(id) ON DELETE CASCADE,\n    user_id UUID REFERENCES users(id) ON DELETE CASCADE,\n    status TEXT DEFAULT 'draft' CHECK (status IN ('draft', 'active', 'archived')),\n    created_at TIMESTAMPTZ DEFAULT now(),\n    updated_at TIMESTAMPTZ DEFAULT now()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create articles table\nCREATE TABLE IF NOT EXISTS articles (\n    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n    title TEXT NOT NULL,\n    content TEXT NOT NULL,\n    pillar_id UUID REFERENCES pillars(id) ON DELETE CASCADE,\n    user_id UUID REFERENCES users(id) ON DELETE CASCADE,\n    status TEXT DEFAULT 'draft' CHECK (status IN ('draft', 'review', 'published')),\n    keywords TEXT[] DEFAULT ARRAY[]::TEXT[],\n    meta_description TEXT,\n    created_at TIMESTAMPTZ DEFAULT now(),\n    updated_at TIMESTAMPTZ DEFAULT now()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create indexes\nCREATE INDEX IF NOT EXISTS idx_users_email ON users(email)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE INDEX IF NOT EXISTS idx_niches_user_id ON niches(user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE INDEX IF NOT EXISTS idx_pillars_niche_id ON pillars(niche_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE INDEX IF NOT EXISTS idx_pillars_user_id ON pillars(user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE INDEX IF NOT EXISTS idx_articles_pillar_id ON articles(pillar_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE INDEX IF NOT EXISTS idx_articles_user_id ON articles(user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create updated_at trigger function\nCREATE OR REPLACE FUNCTION update_updated_at_column()\nRETURNS TRIGGER AS $$\nBEGIN\n    NEW.updated_at = now();\n    RETURN NEW;\nEND;\n$$ LANGUAGE plpgsql","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create triggers\nDROP TRIGGER IF EXISTS users_update_trigger ON users","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE TRIGGER users_update_trigger\n    BEFORE UPDATE ON users\n    FOR EACH ROW\n    EXECUTE FUNCTION update_updated_at_column()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"DROP TRIGGER IF EXISTS niches_update_trigger ON niches","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE TRIGGER niches_update_trigger\n    BEFORE UPDATE ON niches\n    FOR EACH ROW\n    EXECUTE FUNCTION update_updated_at_column()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"DROP TRIGGER IF EXISTS pillars_update_trigger ON pillars","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE TRIGGER pillars_update_trigger\n    BEFORE UPDATE ON pillars\n    FOR EACH ROW\n    EXECUTE FUNCTION update_updated_at_column()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"DROP TRIGGER IF EXISTS articles_update_trigger ON articles","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE TRIGGER articles_update_trigger\n    BEFORE UPDATE ON articles\n    FOR EACH ROW\n    EXECUTE FUNCTION update_updated_at_column()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Enable RLS on all tables\nALTER TABLE users ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE niches ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE pillars ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE articles ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create RLS policies for users\nCREATE POLICY \"select_users_policy\" ON users\n    FOR SELECT USING (auth.uid() = id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"update_users_policy\" ON users\n    FOR UPDATE USING (auth.uid() = id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create RLS policies for niches\nCREATE POLICY \"select_niches_policy\" ON niches\n    FOR SELECT USING (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"insert_niches_policy\" ON niches\n    FOR INSERT WITH CHECK (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"update_niches_policy\" ON niches\n    FOR UPDATE USING (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"delete_niches_policy\" ON niches\n    FOR DELETE USING (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create RLS policies for pillars\nCREATE POLICY \"select_pillars_policy\" ON pillars\n    FOR SELECT USING (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"insert_pillars_policy\" ON pillars\n    FOR INSERT WITH CHECK (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"update_pillars_policy\" ON pillars\n    FOR UPDATE USING (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"delete_pillars_policy\" ON pillars\n    FOR DELETE USING (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create RLS policies for articles\nCREATE POLICY \"select_articles_policy\" ON articles\n    FOR SELECT USING (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"insert_articles_policy\" ON articles\n    FOR INSERT WITH CHECK (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"update_articles_policy\" ON articles\n    FOR UPDATE USING (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"delete_articles_policy\" ON articles\n    FOR DELETE USING (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)","ParameterOIDs":[25,25,1009]}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":[0,0,1],"Parameters":[{"text":"20240101000000"},{"text":"initial_schema"},{"binary":"0000000100000000000000190000002700000001000000482d2d20456e61626c6520726571756972656420657874656e73696f6e730a43524541544520455854454e53494f4e204946204e4f54204558495354532022757569642d6f737370220000002943524541544520455854454e53494f4e204946204e4f54204558495354532022706763727970746f220000019f2d2d20437265617465207573657273207461626c650a435245415445205441424c45204946204e4f542045584953545320757365727320280a2020202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a20202020656d61696c205445585420554e49515545204e4f54204e554c4c2c0a202020206e616d6520544558542c0a2020202070617373776f72642054455854204e4f54204e554c4c2c0a20202020746f6b656e20544558542c0a20202020726f6c6520544558542044454641554c542027757365722720434845434b2028726f6c6520494e20282775736572272c202761646d696e2729292c0a202020206c6173745f6c6f67696e5f61742054494d455354414d50545a2c0a2020202069735f61637469766520424f4f4c45414e2044454641554c5420747275652c0a20202020637265617465645f61742054494d455354414d50545a2044454641554c54206e6f7728292c0a20202020757064617465645f61742054494d455354414d50545a2044454641554c54206e6f7728290a29000001922d2d20437265617465206e6963686573207461626c650a435245415445205441424c45204946204e4f5420455849535453206e696368657320280a2020202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a202020206e616d652054455854204e4f54204e554c4c2c0a20202020757365725f69642055554944205245464552454e43455320757365727328696429204f4e2044454c45544520434153434144452c0a202020206465736372697074696f6e20544558542c0a2020202073746174757320544558542044454641554c54202770656e64696e672720434845434b202873746174757320494e20282770656e64696e67272c2027617070726f766564272c202772656a6563746564272c2027696e5f70726f67726573732729292c0a20202020637265617465645f61742054494d455354414d50545a2044454641554c54206e6f7728292c0a20202020757064617465645f61742054494d455354414d50545a2044454641554c54206e6f7728290a29000001a52d2d204372656174652070696c6c617273207461626c650a435245415445205441424c45204946204e4f54204558495354532070696c6c61727320280a2020202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a202020207469746c652054455854204e4f54204e554c4c2c0a202020206e696368655f69642055554944205245464552454e434553206e696368657328696429204f4e2044454c45544520434153434144452c0a20202020757365725f69642055554944205245464552454e43455320757365727328696429204f4e2044454c45544520434153434144452c0a2020202073746174757320544558542044454641554c54202764726166742720434845434b202873746174757320494e2028276472616674272c2027616374697665272c202761726368697665642729292c0a20202020637265617465645f61742054494d455354414d50545a2044454641554c54206e6f7728292c0a20202020757064617465645f61742054494d455354414d50545a2044454641554c54206e6f7728290a290000020d2d2d204372656174652061727469636c6573207461626c650a435245415445205441424c45204946204e4f54204558495354532061727469636c657320280a2020202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a202020207469746c652054455854204e4f54204e554c4c2c0a20202020636f6e74656e742054455854204e4f54204e554c4c2c0a2020202070696c6c61725f69642055554944205245464552454e4345532070696c6c61727328696429204f4e2044454c45544520434153434144452c0a20202020757365725f69642055554944205245464552454e43455320757365727328696429204f4e2044454c45544520434153434144452c0a2020202073746174757320544558542044454641554c54202764726166742720434845434b202873746174757320494e2028276472616674272c2027726576696577272c20277075626c69736865642729292c0a202020206b6579776f72647320544558545b5d2044454641554c542041525241595b5d3a3a544558545b5d2c0a202020206d6574615f6465736372697074696f6e20544558542c0a20202020637265617465645f61742054494d455354414d50545a2044454641554c54206e6f7728292c0a20202020757064617465645f61742054494d455354414d50545a2044454641554c54206e6f7728290a290000004c2d2d2043726561746520696e64657865730a43524541544520494e444558204946204e4f5420455849535453206964785f75736572735f656d61696c204f4e20757365727328656d61696c290000004043524541544520494e444558204946204e4f5420455849535453206964785f6e69636865735f757365725f6964204f4e206e696368657328757365725f6964290000004443524541544520494e444558204946204e4f5420455849535453206964785f70696c6c6172735f6e696368655f6964204f4e2070696c6c617273286e696368655f6964290000004243524541544520494e444558204946204e4f5420455849535453206964785f70696c6c6172735f757365725f6964204f4e2070696c6c61727328757365725f6964290000004843524541544520494e444558204946204e4f5420455849535453206964785f61727469636c65735f70696c6c61725f6964204f4e2061727469636c65732870696c6c61725f6964290000004443524541544520494e444558204946204e4f5420455849535453206964785f61727469636c65735f757365725f6964204f4e2061727469636c657328757365725f696429000000bc2d2d2043726561746520757064617465645f617420747269676765722066756e6374696f6e0a435245415445204f52205245504c4143452046554e4354494f4e207570646174655f757064617465645f61745f636f6c756d6e28290a52455455524e5320545249474745522041532024240a424547494e0a202020204e45572e757064617465645f6174203d206e6f7728293b0a2020202052455455524e204e45573b0a454e443b0a2424204c414e475541474520706c706773716c000000472d2d204372656174652074726967676572730a44524f502054524947474552204946204558495354532075736572735f7570646174655f74726967676572204f4e2075736572730000007f43524541544520545249474745522075736572735f7570646174655f747269676765720a202020204245464f524520555044415445204f4e2075736572730a20202020464f52204541434820524f570a20202020455845435554452046554e4354494f4e207570646174655f757064617465645f61745f636f6c756d6e28290000003644524f50205452494747455220494620455849535453206e69636865735f7570646174655f74726967676572204f4e206e6963686573000000814352454154452054524947474552206e69636865735f7570646174655f747269676765720a202020204245464f524520555044415445204f4e206e69636865730a20202020464f52204541434820524f570a20202020455845435554452046554e4354494f4e207570646174655f757064617465645f61745f636f6c756d6e28290000003844524f502054524947474552204946204558495354532070696c6c6172735f7570646174655f74726967676572204f4e2070696c6c6172730000008343524541544520545249474745522070696c6c6172735f7570646174655f747269676765720a202020204245464f524520555044415445204f4e2070696c6c6172730a20202020464f52204541434820524f570a20202020455845435554452046554e4354494f4e207570646174655f757064617465645f61745f636f6c756d6e28290000003a44524f502054524947474552204946204558495354532061727469636c65735f7570646174655f74726967676572204f4e2061727469636c65730000008543524541544520545249474745522061727469636c65735f7570646174655f747269676765720a202020204245464f524520555044415445204f4e2061727469636c65730a20202020464f52204541434820524f570a20202020455845435554452046554e4354494f4e207570646174655f757064617465645f61745f636f6c756d6e2829000000472d2d20456e61626c6520524c53206f6e20616c6c207461626c65730a414c544552205441424c4520757365727320454e41424c4520524f57204c4556454c2053454355524954590000002c414c544552205441424c45206e696368657320454e41424c4520524f57204c4556454c2053454355524954590000002d414c544552205441424c452070696c6c61727320454e41424c4520524f57204c4556454c2053454355524954590000002e414c544552205441424c452061727469636c657320454e41424c4520524f57204c4556454c205345435552495459000000742d2d2043726561746520524c5320706f6c696369657320666f722075736572730a43524541544520504f4c494359202273656c6563745f75736572735f706f6c69637922204f4e2075736572730a20202020464f522053454c454354205553494e472028617574682e7569642829203d206964290000005343524541544520504f4c49435920227570646174655f75736572735f706f6c69637922204f4e2075736572730a20202020464f5220555044415445205553494e472028617574682e7569642829203d206964290000007c2d2d2043726561746520524c5320706f6c696369657320666f72206e69636865730a43524541544520504f4c494359202273656c6563745f6e69636865735f706f6c69637922204f4e206e69636865730a20202020464f522053454c454354205553494e472028617574682e7569642829203d20757365725f6964290000005f43524541544520504f4c4943592022696e736572745f6e69636865735f706f6c69637922204f4e206e69636865730a20202020464f5220494e53455254205749544820434845434b2028617574682e7569642829203d20757365725f6964290000005a43524541544520504f4c49435920227570646174655f6e69636865735f706f6c69637922204f4e206e69636865730a20202020464f5220555044415445205553494e472028617574682e7569642829203d20757365725f6964290000005a43524541544520504f4c494359202264656c6574655f6e69636865735f706f6c69637922204f4e206e69636865730a20202020464f522044454c455445205553494e472028617574682e7569642829203d20757365725f6964290000007f2d2d2043726561746520524c5320706f6c696369657320666f722070696c6c6172730a43524541544520504f4c494359202273656c6563745f70696c6c6172735f706f6c69637922204f4e2070696c6c6172730a20202020464f522053454c454354205553494e472028617574682e7569642829203d20757365725f6964290000006143524541544520504f4c4943592022696e736572745f70696c6c6172735f706f6c69637922204f4e2070696c6c6172730a20202020464f5220494e53455254205749544820434845434b2028617574682e7569642829203d20757365725f6964290000005c43524541544520504f4c49435920227570646174655f70696c6c6172735f706f6c69637922204f4e2070696c6c6172730a20202020464f5220555044415445205553494e472028617574682e7569642829203d20757365725f6964290000005c43524541544520504f4c494359202264656c6574655f70696c6c6172735f706f6c69637922204f4e2070696c6c6172730a20202020464f522044454c455445205553494e472028617574682e7569642829203d20757365725f696429000000822d2d2043726561746520524c5320706f6c696369657320666f722061727469636c65730a43524541544520504f4c494359202273656c6563745f61727469636c65735f706f6c69637922204f4e2061727469636c65730a20202020464f522053454c454354205553494e472028617574682e7569642829203d20757365725f6964290000006343524541544520504f4c4943592022696e736572745f61727469636c65735f706f6c69637922204f4e2061727469636c65730a20202020464f5220494e53455254205749544820434845434b2028617574682e7569642829203d20757365725f6964290000005e43524541544520504f4c49435920227570646174655f61727469636c65735f706f6c69637922204f4e2061727469636c65730a20202020464f5220555044415445205553494e472028617574682e7569642829203d20757365725f6964290000005e43524541544520504f4c494359202264656c6574655f61727469636c65735f706f6c69637922204f4e2061727469636c65730a20202020464f522044454c455445205553494e472028617574682e7569642829203d20757365725f696429"}],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42710","Message":"extension \"uuid-ossp\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"extension.c","Line":1740,"Routine":"CreateExtension","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE EXTENSION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42710","Message":"extension \"pgcrypto\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"extension.c","Line":1740,"Routine":"CreateExtension","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE EXTENSION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"trigger \"users_update_trigger\" for relation \"users\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"trigger \"niches_update_trigger\" for relation \"niches\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"trigger \"pillars_update_trigger\" for relation \"pillars\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"trigger \"articles_update_trigger\" for relation \"articles\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 1"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Applying migration 20240115000000_add_admin_functions.sql...
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create function to get table constraints\ncreate or replace function admin_get_table_constraints()\nreturns table (\n    table_name text,\n    constraint_name text,\n    constraint_type text\n)\nsecurity definer\nset search_path = public\nlanguage sql\nstable\nas $$\n    select \n        table_name::text,\n        constraint_name::text,\n        constraint_type::text\n    from information_schema.table_constraints\n    where table_schema = 'public';\n$$","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Grant execute permission to authenticated users\ngrant execute on function admin_get_table_constraints to authenticated","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create function to get foreign key information\ncreate or replace function admin_get_foreign_keys()\nreturns table (\n    constraint_name text,\n    table_name text,\n    referenced_table_name text,\n    referenced_column_name text\n)\nsecurity definer\nset search_path = public\nlanguage sql\nstable\nas $$\n    select \n        kcu.constraint_name::text,\n        kcu.table_name::text,\n        ccu.table_name::text as referenced_table_name,\n        ccu.column_name::text as referenced_column_name\n    from information_schema.key_column_usage kcu\n    join information_schema.constraint_column_usage ccu\n        on kcu.constraint_name = ccu.constraint_name\n    where kcu.table_schema = 'public'\n    and kcu.constraint_name in (\n        select constraint_name\n        from information_schema.table_constraints\n        where constraint_type = 'FOREIGN KEY'\n        and table_schema = 'public'\n    );\n$$","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Grant execute permission to authenticated users\ngrant execute on function admin_get_foreign_keys to authenticated","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)","ParameterOIDs":[25,25,1009]}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":[0,0,1],"Parameters":[{"text":"20240115000000"},{"text":"add_admin_functions"},{"binary":"0000000100000000000000190000000400000001000001b92d2d204372656174652066756e6374696f6e20746f20676574207461626c6520636f6e73747261696e74730a637265617465206f72207265706c6163652066756e6374696f6e2061646d696e5f6765745f7461626c655f636f6e73747261696e747328290a72657475726e73207461626c6520280a202020207461626c655f6e616d6520746578742c0a20202020636f6e73747261696e745f6e616d6520746578742c0a20202020636f6e73747261696e745f7479706520746578740a290a736563757269747920646566696e65720a736574207365617263685f70617468203d207075626c69630a6c616e67756167652073716c0a737461626c650a61732024240a2020202073656c656374200a20202020202020207461626c655f6e616d653a3a746578742c0a2020202020202020636f6e73747261696e745f6e616d653a3a746578742c0a2020202020202020636f6e73747261696e745f747970653a3a746578740a2020202066726f6d20696e666f726d6174696f6e5f736368656d612e7461626c655f636f6e73747261696e74730a202020207768657265207461626c655f736368656d61203d20277075626c6963273b0a2424000000792d2d204772616e742065786563757465207065726d697373696f6e20746f2061757468656e746963617465642075736572730a6772616e742065786563757465206f6e2066756e6374696f6e2061646d696e5f6765745f7461626c655f636f6e73747261696e747320746f2061757468656e74696361746564000003782d2d204372656174652066756e6374696f6e20746f2067657420666f726569676e206b657920696e666f726d6174696f6e0a637265617465206f72207265706c6163652066756e6374696f6e2061646d696e5f6765745f666f726569676e5f6b65797328290a72657475726e73207461626c6520280a20202020636f6e73747261696e745f6e616d6520746578742c0a202020207461626c655f6e616d6520746578742c0a202020207265666572656e6365645f7461626c655f6e616d6520746578742c0a202020207265666572656e6365645f636f6c756d6e5f6e616d6520746578740a290a736563757269747920646566696e65720a736574207365617263685f70617468203d207075626c69630a6c616e67756167652073716c0a737461626c650a61732024240a2020202073656c656374200a20202020202020206b63752e636f6e73747261696e745f6e616d653a3a746578742c0a20202020202020206b63752e7461626c655f6e616d653a3a746578742c0a20202020202020206363752e7461626c655f6e616d653a3a74657874206173207265666572656e6365645f7461626c655f6e616d652c0a20202020202020206363752e636f6c756d6e5f6e616d653a3a74657874206173207265666572656e6365645f636f6c756d6e5f6e616d650a2020202066726f6d20696e666f726d6174696f6e5f736368656d612e6b65795f636f6c756d6e5f7573616765206b63750a202020206a6f696e20696e666f726d6174696f6e5f736368656d612e636f6e73747261696e745f636f6c756d6e5f7573616765206363750a20202020202020206f6e206b63752e636f6e73747261696e745f6e616d65203d206363752e636f6e73747261696e745f6e616d650a202020207768657265206b63752e7461626c655f736368656d61203d20277075626c6963270a20202020616e64206b63752e636f6e73747261696e745f6e616d6520696e20280a202020202020202073656c65637420636f6e73747261696e745f6e616d650a202020202020202066726f6d20696e666f726d6174696f6e5f736368656d612e7461626c655f636f6e73747261696e74730a2020202020202020776865726520636f6e73747261696e745f74797065203d2027464f524549474e204b4559270a2020202020202020616e64207461626c655f736368656d61203d20277075626c6963270a20202020293b0a2424000000742d2d204772616e742065786563757465207065726d697373696f6e20746f2061757468656e746963617465642075736572730a6772616e742065786563757465206f6e2066756e6374696f6e2061646d696e5f6765745f666f726569676e5f6b65797320746f2061757468656e74696361746564"}],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"GRANT"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"GRANT"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 1"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Applying migration 20240115000001_add_exec_function.sql...
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create exec function for running SQL statements\ncreate or replace function exec(query text)\nreturns void\nlanguage plpgsql\nsecurity definer\nset search_path = public\nas $$\nbegin\n  execute query;\nend;\n$$","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)","ParameterOIDs":[25,25,1009]}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":[0,0,1],"Parameters":[{"text":"20240115000001"},{"text":"add_exec_function"},{"binary":"0000000100000000000000190000000100000001000000cb2d2d2043726561746520657865632066756e6374696f6e20666f722072756e6e696e672053514c2073746174656d656e74730a637265617465206f72207265706c6163652066756e6374696f6e20657865632871756572792074657874290a72657475726e7320766f69640a6c616e677561676520706c706773716c0a736563757269747920646566696e65720a736574207365617263685f70617468203d207075626c69630a61732024240a626567696e0a2020657865637574652071756572793b0a656e643b0a2424"}],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 1"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Applying migration 20240115000002_add_schema_validation_functions.sql...
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create functions to safely query information schema\ncreate or replace function admin_get_table_constraints()\nreturns table (\n    table_name text,\n    constraint_name text,\n    constraint_type text\n)\nsecurity definer\nset search_path = public\nlanguage sql\nas $$\n    select \n        table_name::text,\n        constraint_name::text,\n        constraint_type::text\n    from information_schema.table_constraints\n    where table_schema = 'public';\n$$","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Grant execute permission to authenticated users\ngrant execute on function admin_get_table_constraints to authenticated","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create function to get foreign key information\ncreate or replace function admin_get_foreign_keys()\nreturns table (\n    constraint_name text,\n    table_name text,\n    referenced_table_name text,\n    referenced_column_name text\n)\nsecurity definer\nset search_path = public\nlanguage sql\nas $$\n    select \n        kcu.constraint_name::text,\n        kcu.table_name::text,\n        ccu.table_name::text as referenced_table_name,\n        ccu.column_name::text as referenced_column_name\n    from information_schema.key_column_usage kcu\n    join information_schema.referential_constraints rc \n        on kcu.constraint_name = rc.constraint_name\n    join information_schema.constraint_column_usage ccu \n        on rc.unique_constraint_name = ccu.constraint_name\n    where kcu.table_schema = 'public';\n$$","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Grant execute permission to authenticated users\ngrant execute on function admin_get_foreign_keys to authenticated","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)","ParameterOIDs":[25,25,1009]}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":[0,0,1],"Parameters":[{"text":"20240115000002"},{"text":"add_schema_validation_functions"},{"binary":"0000000100000000000000190000000400000001000001bd2d2d204372656174652066756e6374696f6e7320746f20736166656c7920717565727920696e666f726d6174696f6e20736368656d610a637265617465206f72207265706c6163652066756e6374696f6e2061646d696e5f6765745f7461626c655f636f6e73747261696e747328290a72657475726e73207461626c6520280a202020207461626c655f6e616d6520746578742c0a20202020636f6e73747261696e745f6e616d6520746578742c0a20202020636f6e73747261696e745f7479706520746578740a290a736563757269747920646566696e65720a736574207365617263685f70617468203d207075626c69630a6c616e67756167652073716c0a61732024240a2020202073656c656374200a20202020202020207461626c655f6e616d653a3a746578742c0a2020202020202020636f6e73747261696e745f6e616d653a3a746578742c0a2020202020202020636f6e73747261696e745f747970653a3a746578740a2020202066726f6d20696e666f726d6174696f6e5f736368656d612e7461626c655f636f6e73747261696e74730a202020207768657265207461626c655f736368656d61203d20277075626c6963273b0a2424000000792d2d204772616e742065786563757465207065726d697373696f6e20746f2061757468656e746963617465642075736572730a6772616e742065786563757465206f6e2066756e6374696f6e2061646d696e5f6765745f7461626c655f636f6e73747261696e747320746f2061757468656e746963617465640000031a2d2d204372656174652066756e6374696f6e20746f2067657420666f726569676e206b657920696e666f726d6174696f6e0a637265617465206f72207265706c6163652066756e6374696f6e2061646d696e5f6765745f666f726569676e5f6b65797328290a72657475726e73207461626c6520280a20202020636f6e73747261696e745f6e616d6520746578742c0a202020207461626c655f6e616d6520746578742c0a202020207265666572656e6365645f7461626c655f6e616d6520746578742c0a202020207265666572656e6365645f636f6c756d6e5f6e616d6520746578740a290a736563757269747920646566696e65720a736574207365617263685f70617468203d207075626c69630a6c616e67756167652073716c0a61732024240a2020202073656c656374200a20202020202020206b63752e636f6e73747261696e745f6e616d653a3a746578742c0a20202020202020206b63752e7461626c655f6e616d653a3a746578742c0a20202020202020206363752e7461626c655f6e616d653a3a74657874206173207265666572656e6365645f7461626c655f6e616d652c0a20202020202020206363752e636f6c756d6e5f6e616d653a3a74657874206173207265666572656e6365645f636f6c756d6e5f6e616d650a2020202066726f6d20696e666f726d6174696f6e5f736368656d612e6b65795f636f6c756d6e5f7573616765206b63750a202020206a6f696e20696e666f726d6174696f6e5f736368656d612e7265666572656e7469616c5f636f6e73747261696e7473207263200a20202020202020206f6e206b63752e636f6e73747261696e745f6e616d65203d2072632e636f6e73747261696e745f6e616d650a202020206a6f696e20696e666f726d6174696f6e5f736368656d612e636f6e73747261696e745f636f6c756d6e5f757361676520636375200a20202020202020206f6e2072632e756e697175655f636f6e73747261696e745f6e616d65203d206363752e636f6e73747261696e745f6e616d650a202020207768657265206b63752e7461626c655f736368656d61203d20277075626c6963273b0a2424000000742d2d204772616e742065786563757465207065726d697373696f6e20746f2061757468656e746963617465642075736572730a6772616e742065786563757465206f6e2066756e6374696f6e2061646d696e5f6765745f666f726569676e5f6b65797320746f2061757468656e74696361746564"}],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"GRANT"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"GRANT"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 1"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Applying migration 20240315000000_content_schema.sql...
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Enable required extensions\ncreate extension if not exists \"uuid-ossp\"","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create tables for content management\ncreate table if not exists public.niches (\n  id uuid default uuid_generate_v4() primary key,\n  name text not null,\n  description text,\n  user_id uuid references auth.users(id) on delete cascade,\n  created_at timestamptz default now() not null,\n  updated_at timestamptz default now() not null\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create table if not exists public.pillars (\n  id uuid default uuid_generate_v4() primary key,\n  niche_id uuid references public.niches(id) on delete cascade,\n  title text not null,\n  description text,\n  user_id uuid references auth.users(id) on delete cascade,\n  created_at timestamptz default now() not null,\n  updated_at timestamptz default now() not null\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create table if not exists public.articles (\n  id uuid default uuid_generate_v4() primary key,\n  pillar_id uuid references public.pillars(id) on delete cascade,\n  title text not null,\n  content text,\n  status text default 'draft' check (status in ('draft', 'review', 'published')),\n  user_id uuid references auth.users(id) on delete cascade,\n  created_at timestamptz default now() not null,\n  updated_at timestamptz default now() not null,\n  published_at timestamptz\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create table if not exists public.outlines (\n  id uuid default uuid_generate_v4() primary key,\n  article_id uuid references public.articles(id) on delete cascade,\n  content jsonb not null default '{}',\n  user_id uuid references auth.users(id) on delete cascade,\n  created_at timestamptz default now() not null,\n  updated_at timestamptz default now() not null\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Set up Row Level Security (RLS)\nalter table public.niches enable row level security","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"alter table public.pillars enable row level security","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"alter table public.articles enable row level security","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"alter table public.outlines enable row level security","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Drop existing policies if they exist\ndrop policy if exists \"Users can view their own niches\" on public.niches","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can insert their own niches\" on public.niches","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can update their own niches\" on public.niches","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can delete their own niches\" on public.niches","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can view their own pillars\" on public.pillars","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can insert their own pillars\" on public.pillars","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can update their own pillars\" on public.pillars","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can delete their own pillars\" on public.pillars","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can view their own articles\" on public.articles","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can insert their own articles\" on public.articles","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can update their own articles\" on public.articles","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can delete their own articles\" on public.articles","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can view their own outlines\" on public.outlines","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can insert their own outlines\" on public.outlines","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can update their own outlines\" on public.outlines","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can delete their own outlines\" on public.outlines","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create policies\ncreate policy \"Users can view their own niches\"\n  on public.niches for select\n  using (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can insert their own niches\"\n  on public.niches for insert\n  with check (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can update their own niches\"\n  on public.niches for update\n  using (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can delete their own niches\"\n  on public.niches for delete\n  using (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Repeat for pillars\ncreate policy \"Users can view their own pillars\"\n  on public.pillars for select\n  using (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can insert their own pillars\"\n  on public.pillars for insert\n  with check (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can update their own pillars\"\n  on public.pillars for update\n  using (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can delete their own pillars\"\n  on public.pillars for delete\n  using (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Repeat for articles\ncreate policy \"Users can view their own articles\"\n  on public.articles for select\n  using (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can insert their own articles\"\n  on public.articles for insert\n  with check (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can update their own articles\"\n  on public.articles for update\n  using (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can delete their own articles\"\n  on public.articles for delete\n  using (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Repeat for outlines\ncreate policy \"Users can view their own outlines\"\n  on public.outlines for select\n  using (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can insert their own outlines\"\n  on public.outlines for insert\n  with check (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can update their own outlines\"\n  on public.outlines for update\n  using (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can delete their own outlines\"\n  on public.outlines for delete\n  using (auth.uid() = user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create function for updated_at trigger\ncreate or replace function public.handle_updated_at()\nreturns trigger as $$\nbegin\n  new.updated_at = now();\n  return new;\nend;\n$$ language plpgsql","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create triggers for updated_at\ncreate trigger handle_updated_at\n  before update on public.niches\n  for each row\n  execute function public.handle_updated_at()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create trigger handle_updated_at\n  before update on public.pillars\n  for each row\n  execute function public.handle_updated_at()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create trigger handle_updated_at\n  before update on public.articles\n  for each row\n  execute function public.handle_updated_at()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create trigger handle_updated_at\n  before update on public.outlines\n  for each row\n  execute function public.handle_updated_at()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)","ParameterOIDs":[25,25,1009]}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":[0,0,1],"Parameters":[{"text":"20240315000000"},{"text":"content_schema"},{"binary":"0000000100000000000000190000002e00000001000000482d2d20456e61626c6520726571756972656420657874656e73696f6e730a63726561746520657874656e73696f6e206966206e6f74206578697374732022757569642d6f737370220000014d2d2d20437265617465207461626c657320666f7220636f6e74656e74206d616e6167656d656e740a637265617465207461626c65206966206e6f7420657869737473207075626c69632e6e696368657320280a2020696420757569642064656661756c7420757569645f67656e65726174655f76342829207072696d617279206b65792c0a20206e616d652074657874206e6f74206e756c6c2c0a20206465736372697074696f6e20746578742c0a2020757365725f69642075756964207265666572656e63657320617574682e757365727328696429206f6e2064656c65746520636173636164652c0a2020637265617465645f61742074696d657374616d70747a2064656661756c74206e6f772829206e6f74206e756c6c2c0a2020757064617465645f61742074696d657374616d70747a2064656661756c74206e6f772829206e6f74206e756c6c0a2900000167637265617465207461626c65206966206e6f7420657869737473207075626c69632e70696c6c61727320280a2020696420757569642064656661756c7420757569645f67656e65726174655f76342829207072696d617279206b65792c0a20206e696368655f69642075756964207265666572656e636573207075626c69632e6e696368657328696429206f6e2064656c65746520636173636164652c0a20207469746c652074657874206e6f74206e756c6c2c0a20206465736372697074696f6e20746578742c0a2020757365725f69642075756964207265666572656e63657320617574682e757365727328696429206f6e2064656c65746520636173636164652c0a2020637265617465645f61742074696d657374616d70747a2064656661756c74206e6f772829206e6f74206e756c6c2c0a2020757064617465645f61742074696d657374616d70747a2064656661756c74206e6f772829206e6f74206e756c6c0a29000001d4637265617465207461626c65206966206e6f7420657869737473207075626c69632e61727469636c657320280a2020696420757569642064656661756c7420757569645f67656e65726174655f76342829207072696d617279206b65792c0a202070696c6c61725f69642075756964207265666572656e636573207075626c69632e70696c6c61727328696429206f6e2064656c65746520636173636164652c0a20207469746c652074657874206e6f74206e756c6c2c0a2020636f6e74656e7420746578742c0a202073746174757320746578742064656661756c74202764726166742720636865636b202873746174757320696e2028276472616674272c2027726576696577272c20277075626c69736865642729292c0a2020757365725f69642075756964207265666572656e63657320617574682e757365727328696429206f6e2064656c65746520636173636164652c0a2020637265617465645f61742074696d657374616d70747a2064656661756c74206e6f772829206e6f74206e756c6c2c0a2020757064617465645f61742074696d657374616d70747a2064656661756c74206e6f772829206e6f74206e756c6c2c0a20207075626c69736865645f61742074696d657374616d70747a0a2900000168637265617465207461626c65206966206e6f7420657869737473207075626c69632e6f75746c696e657320280a2020696420757569642064656661756c7420757569645f67656e65726174655f76342829207072696d617279206b65792c0a202061727469636c655f69642075756964207265666572656e636573207075626c69632e61727469636c657328696429206f6e2064656c65746520636173636164652c0a2020636f6e74656e74206a736f6e62206e6f74206e756c6c2064656661756c7420277b7d272c0a2020757365725f69642075756964207265666572656e63657320617574682e757365727328696429206f6e2064656c65746520636173636164652c0a2020637265617465645f61742074696d657374616d70747a2064656661756c74206e6f772829206e6f74206e756c6c2c0a2020757064617465645f61742074696d657374616d70747a2064656661756c74206e6f772829206e6f74206e756c6c0a29000000562d2d2053657420757020526f77204c6576656c2053656375726974792028524c53290a616c746572207461626c65207075626c69632e6e696368657320656e61626c6520726f77206c6576656c20736563757269747900000034616c746572207461626c65207075626c69632e70696c6c61727320656e61626c6520726f77206c6576656c20736563757269747900000035616c746572207461626c65207075626c69632e61727469636c657320656e61626c6520726f77206c6576656c20736563757269747900000035616c746572207461626c65207075626c69632e6f75746c696e657320656e61626c6520726f77206c6576656c207365637572697479000000702d2d2044726f70206578697374696e6720706f6c696369657320696620746865792065786973740a64726f7020706f6c69637920696620657869737473202255736572732063616e2076696577207468656972206f776e206e696368657322206f6e207075626c69632e6e69636865730000004a64726f7020706f6c69637920696620657869737473202255736572732063616e20696e73657274207468656972206f776e206e696368657322206f6e207075626c69632e6e69636865730000004a64726f7020706f6c69637920696620657869737473202255736572732063616e20757064617465207468656972206f776e206e696368657322206f6e207075626c69632e6e69636865730000004a64726f7020706f6c69637920696620657869737473202255736572732063616e2064656c657465207468656972206f776e206e696368657322206f6e207075626c69632e6e69636865730000004a64726f7020706f6c69637920696620657869737473202255736572732063616e2076696577207468656972206f776e2070696c6c61727322206f6e207075626c69632e70696c6c6172730000004c64726f7020706f6c69637920696620657869737473202255736572732063616e20696e73657274207468656972206f776e2070696c6c61727322206f6e207075626c69632e70696c6c6172730000004c64726f7020706f6c69637920696620657869737473202255736572732063616e20757064617465207468656972206f776e2070696c6c61727322206f6e207075626c69632e70696c6c6172730000004c64726f7020706f6c69637920696620657869737473202255736572732063616e2064656c657465207468656972206f776e2070696c6c61727322206f6e207075626c69632e70696c6c6172730000004c64726f7020706f6c69637920696620657869737473202255736572732063616e2076696577207468656972206f776e2061727469636c657322206f6e207075626c69632e61727469636c65730000004e64726f7020706f6c69637920696620657869737473202255736572732063616e20696e73657274207468656972206f776e2061727469636c657322206f6e207075626c69632e61727469636c65730000004e64726f7020706f6c69637920696620657869737473202255736572732063616e20757064617465207468656972206f776e2061727469636c657322206f6e207075626c69632e61727469636c65730000004e64726f7020706f6c69637920696620657869737473202255736572732063616e2064656c657465207468656972206f776e2061727469636c657322206f6e207075626c69632e61727469636c65730000004c64726f7020706f6c69637920696620657869737473202255736572732063616e2076696577207468656972206f776e206f75746c696e657322206f6e207075626c69632e6f75746c696e65730000004e64726f7020706f6c69637920696620657869737473202255736572732063616e20696e73657274207468656972206f776e206f75746c696e657322206f6e207075626c69632e6f75746c696e65730000004e64726f7020706f6c69637920696620657869737473202255736572732063616e20757064617465207468656972206f776e206f75746c696e657322206f6e207075626c69632e6f75746c696e65730000004e64726f7020706f6c69637920696620657869737473202255736572732063616e2064656c657465207468656972206f776e206f75746c696e657322206f6e207075626c69632e6f75746c696e65730000007f2d2d2043726561746520706f6c69636965730a63726561746520706f6c696379202255736572732063616e2076696577207468656972206f776e206e6963686573220a20206f6e207075626c69632e6e696368657320666f722073656c6563740a20207573696e672028617574682e7569642829203d20757365725f6964290000007363726561746520706f6c696379202255736572732063616e20696e73657274207468656972206f776e206e6963686573220a20206f6e207075626c69632e6e696368657320666f7220696e736572740a20207769746820636865636b2028617574682e7569642829203d20757365725f6964290000006e63726561746520706f6c696379202255736572732063616e20757064617465207468656972206f776e206e6963686573220a20206f6e207075626c69632e6e696368657320666f72207570646174650a20207573696e672028617574682e7569642829203d20757365725f6964290000006e63726561746520706f6c696379202255736572732063616e2064656c657465207468656972206f776e206e6963686573220a20206f6e207075626c69632e6e696368657320666f722064656c6574650a20207573696e672028617574682e7569642829203d20757365725f696429000000842d2d2052657065617420666f722070696c6c6172730a63726561746520706f6c696379202255736572732063616e2076696577207468656972206f776e2070696c6c617273220a20206f6e207075626c69632e70696c6c61727320666f722073656c6563740a20207573696e672028617574682e7569642829203d20757365725f6964290000007563726561746520706f6c696379202255736572732063616e20696e73657274207468656972206f776e2070696c6c617273220a20206f6e207075626c69632e70696c6c61727320666f7220696e736572740a20207769746820636865636b2028617574682e7569642829203d20757365725f6964290000007063726561746520706f6c696379202255736572732063616e20757064617465207468656972206f776e2070696c6c617273220a20206f6e207075626c69632e70696c6c61727320666f72207570646174650a20207573696e672028617574682e7569642829203d20757365725f6964290000007063726561746520706f6c696379202255736572732063616e2064656c657465207468656972206f776e2070696c6c617273220a20206f6e207075626c69632e70696c6c61727320666f722064656c6574650a20207573696e672028617574682e7569642829203d20757365725f696429000000872d2d2052657065617420666f722061727469636c65730a63726561746520706f6c696379202255736572732063616e2076696577207468656972206f776e2061727469636c6573220a20206f6e207075626c69632e61727469636c657320666f722073656c6563740a20207573696e672028617574682e7569642829203d20757365725f6964290000007763726561746520706f6c696379202255736572732063616e20696e73657274207468656972206f776e2061727469636c6573220a20206f6e207075626c69632e61727469636c657320666f7220696e736572740a20207769746820636865636b2028617574682e7569642829203d20757365725f6964290000007263726561746520706f6c696379202255736572732063616e20757064617465207468656972206f776e2061727469636c6573220a20206f6e207075626c69632e61727469636c657320666f72207570646174650a20207573696e672028617574682e7569642829203d20757365725f6964290000007263726561746520706f6c696379202255736572732063616e2064656c657465207468656972206f776e2061727469636c6573220a20206f6e207075626c69632e61727469636c657320666f722064656c6574650a20207573696e672028617574682e7569642829203d20757365725f696429000000872d2d2052657065617420666f72206f75746c696e65730a63726561746520706f6c696379202255736572732063616e2076696577207468656972206f776e206f75746c696e6573220a20206f6e207075626c69632e6f75746c696e657320666f722073656c6563740a20207573696e672028617574682e7569642829203d20757365725f6964290000007763726561746520706f6c696379202255736572732063616e20696e73657274207468656972206f776e206f75746c696e6573220a20206f6e207075626c69632e6f75746c696e657320666f7220696e736572740a20207769746820636865636b2028617574682e7569642829203d20757365725f6964290000007263726561746520706f6c696379202255736572732063616e20757064617465207468656972206f776e206f75746c696e6573220a20206f6e207075626c69632e6f75746c696e657320666f72207570646174650a20207573696e672028617574682e7569642829203d20757365725f6964290000007263726561746520706f6c696379202255736572732063616e2064656c657465207468656972206f776e206f75746c696e6573220a20206f6e207075626c69632e6f75746c696e657320666f722064656c6574650a20207573696e672028617574682e7569642829203d20757365725f696429000000bc2d2d204372656174652066756e6374696f6e20666f7220757064617465645f617420747269676765720a637265617465206f72207265706c6163652066756e6374696f6e207075626c69632e68616e646c655f757064617465645f617428290a72657475726e7320747269676765722061732024240a626567696e0a20206e65772e757064617465645f6174203d206e6f7728293b0a202072657475726e206e65773b0a656e643b0a2424206c616e677561676520706c706773716c000000a02d2d2043726561746520747269676765727320666f7220757064617465645f61740a63726561746520747269676765722068616e646c655f757064617465645f61740a20206265666f726520757064617465206f6e207075626c69632e6e69636865730a2020666f72206561636820726f770a2020657865637574652066756e6374696f6e207075626c69632e68616e646c655f757064617465645f617428290000007f63726561746520747269676765722068616e646c655f757064617465645f61740a20206265666f726520757064617465206f6e207075626c69632e70696c6c6172730a2020666f72206561636820726f770a2020657865637574652066756e6374696f6e207075626c69632e68616e646c655f757064617465645f617428290000008063726561746520747269676765722068616e646c655f757064617465645f61740a20206265666f726520757064617465206f6e207075626c69632e61727469636c65730a2020666f72206561636820726f770a2020657865637574652066756e6374696f6e207075626c69632e68616e646c655f757064617465645f617428290000008063726561746520747269676765722068616e646c655f757064617465645f61740a20206265666f726520757064617465206f6e207075626c69632e6f75746c696e65730a2020666f72206561636820726f770a2020657865637574652066756e6374696f6e207075626c69632e68616e646c655f757064617465645f61742829"}],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42710","Message":"extension \"uuid-ossp\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"extension.c","Line":1740,"Routine":"CreateExtension","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE EXTENSION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42P07","Message":"relation \"niches\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"parse_utilcmd.c","Line":207,"Routine":"transformCreateStmt","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42P07","Message":"relation \"pillars\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"parse_utilcmd.c","Line":207,"Routine":"transformCreateStmt","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42P07","Message":"relation \"articles\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"parse_utilcmd.c","Line":207,"Routine":"transformCreateStmt","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can view their own niches\" for relation \"public.niches\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can insert their own niches\" for relation \"public.niches\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can update their own niches\" for relation \"public.niches\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can delete their own niches\" for relation \"public.niches\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can view their own pillars\" for relation \"public.pillars\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can insert their own pillars\" for relation \"public.pillars\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can update their own pillars\" for relation \"public.pillars\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can delete their own pillars\" for relation \"public.pillars\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can view their own articles\" for relation \"public.articles\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can insert their own articles\" for relation \"public.articles\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can update their own articles\" for relation \"public.articles\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can delete their own articles\" for relation \"public.articles\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can view their own outlines\" for relation \"public.outlines\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can insert their own outlines\" for relation \"public.outlines\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can update their own outlines\" for relation \"public.outlines\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can delete their own outlines\" for relation \"public.outlines\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 1"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Applying migration 20240316000000_storage_policies.sql...
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Enable Storage by creating an empty storage schema\ncreate schema if not exists storage","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Set up Storage RLS\ncreate policy \"Users can view their own files\"\non storage.objects\nfor select\nusing (\n  auth.uid() = owner\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can upload files\"\non storage.objects\nfor insert\nwith check (\n  auth.uid() = owner AND\n  (bucket_id = 'content-creation-app') AND\n  (storage.foldername(name))[1] = auth.uid()::text\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can update their own files\"\non storage.objects\nfor update\nusing (\n  auth.uid() = owner\n)\nwith check (\n  auth.uid() = owner AND\n  (bucket_id = 'content-creation-app') AND\n  (storage.foldername(name))[1] = auth.uid()::text\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can delete their own files\"\non storage.objects\nfor delete\nusing (\n  auth.uid() = owner AND\n  (bucket_id = 'content-creation-app') AND\n  (storage.foldername(name))[1] = auth.uid()::text\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create a function to handle file path organization\ncreate or replace function storage.foldername(name text)\nreturns text[]\nlanguage plpgsql\nas $$\nbegin\n  return string_to_array(name, '/');\nend;\n$$","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create a trigger to automatically set the owner on insert\ncreate or replace function storage.set_file_owner()\nreturns trigger\nlanguage plpgsql\nas $$\nbegin\n  new.owner = auth.uid();\n  return new;\nend;\n$$","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create trigger set_file_owner\n  before insert on storage.objects\n  for each row\n  execute function storage.set_file_owner()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Add owner column if it doesn't exist\ndo $$\nbegin\n  if not exists (\n    select 1\n    from information_schema.columns\n    where table_schema = 'storage'\n    and table_name = 'objects'\n    and column_name = 'owner'\n  ) then\n    alter table storage.objects\n    add column owner uuid references auth.users(id);\n  end if;\nend $$","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Update existing files to have the current user as owner (if needed)\nupdate storage.objects\nset owner = auth.uid()\nwhere owner is null","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)","ParameterOIDs":[25,25,1009]}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":[0,0,1],"Parameters":[{"text":"20240316000000"},{"text":"storage_policies"},{"binary":"0000000100000000000000190000000a00000001000000592d2d20456e61626c652053746f72616765206279206372656174696e6720616e20656d7074792073746f7261676520736368656d610a63726561746520736368656d61206966206e6f74206578697374732073746f72616765000000812d2d205365742075702053746f7261676520524c530a63726561746520706f6c696379202255736572732063616e2076696577207468656972206f776e2066696c6573220a6f6e2073746f726167652e6f626a656374730a666f722073656c6563740a7573696e6720280a2020617574682e7569642829203d206f776e65720a29000000ca63726561746520706f6c696379202255736572732063616e2075706c6f61642066696c6573220a6f6e2073746f726167652e6f626a656374730a666f7220696e736572740a7769746820636865636b20280a2020617574682e7569642829203d206f776e657220414e440a2020286275636b65745f6964203d2027636f6e74656e742d6372656174696f6e2d617070272920414e440a20202873746f726167652e666f6c6465726e616d65286e616d6529295b315d203d20617574682e75696428293a3a746578740a29000000f363726561746520706f6c696379202255736572732063616e20757064617465207468656972206f776e2066696c6573220a6f6e2073746f726167652e6f626a656374730a666f72207570646174650a7573696e6720280a2020617574682e7569642829203d206f776e65720a290a7769746820636865636b20280a2020617574682e7569642829203d206f776e657220414e440a2020286275636b65745f6964203d2027636f6e74656e742d6372656174696f6e2d617070272920414e440a20202873746f726167652e666f6c6465726e616d65286e616d6529295b315d203d20617574682e75696428293a3a746578740a29000000cf63726561746520706f6c696379202255736572732063616e2064656c657465207468656972206f776e2066696c6573220a6f6e2073746f726167652e6f626a656374730a666f722064656c6574650a7573696e6720280a2020617574682e7569642829203d206f776e657220414e440a2020286275636b65745f6964203d2027636f6e74656e742d6372656174696f6e2d617070272920414e440a20202873746f726167652e666f6c6465726e616d65286e616d6529295b315d203d20617574682e75696428293a3a746578740a29000000c72d2d2043726561746520612066756e6374696f6e20746f2068616e646c652066696c652070617468206f7267616e697a6174696f6e0a637265617465206f72207265706c6163652066756e6374696f6e2073746f726167652e666f6c6465726e616d65286e616d652074657874290a72657475726e7320746578745b5d0a6c616e677561676520706c706773716c0a61732024240a626567696e0a202072657475726e20737472696e675f746f5f6172726179286e616d652c20272f27293b0a656e643b0a2424000000cd2d2d204372656174652061207472696767657220746f206175746f6d61746963616c6c792073657420746865206f776e6572206f6e20696e736572740a637265617465206f72207265706c6163652066756e6374696f6e2073746f726167652e7365745f66696c655f6f776e657228290a72657475726e7320747269676765720a6c616e677561676520706c706773716c0a61732024240a626567696e0a20206e65772e6f776e6572203d20617574682e75696428293b0a202072657475726e206e65773b0a656e643b0a24240000007b6372656174652074726967676572207365745f66696c655f6f776e65720a20206265666f726520696e73657274206f6e2073746f726167652e6f626a656374730a2020666f72206561636820726f770a2020657865637574652066756e6374696f6e2073746f726167652e7365745f66696c655f6f776e65722829000001452d2d20416464206f776e657220636f6c756d6e20696620697420646f65736e27742065786973740a646f2024240a626567696e0a20206966206e6f742065786973747320280a2020202073656c65637420310a2020202066726f6d20696e666f726d6174696f6e5f736368656d612e636f6c756d6e730a202020207768657265207461626c655f736368656d61203d202773746f72616765270a20202020616e64207461626c655f6e616d65203d20276f626a65637473270a20202020616e6420636f6c756d6e5f6e616d65203d20276f776e6572270a202029207468656e0a20202020616c746572207461626c652073746f726167652e6f626a656374730a2020202061646420636f6c756d6e206f776e65722075756964207265666572656e63657320617574682e7573657273286964293b0a2020656e642069663b0a656e64202424000000882d2d20557064617465206578697374696e672066696c657320746f2068617665207468652063757272656e742075736572206173206f776e657220286966206e6565646564290a7570646174652073746f726167652e6f626a656374730a736574206f776e6572203d20617574682e75696428290a7768657265206f776e6572206973206e756c6c"}],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42P06","Message":"schema \"storage\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"schemacmds.c","Line":131,"Routine":"CreateSchemaCommand","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE SCHEMA"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DO"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"UPDATE 0"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 1"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Applying migration 20240320000000_add_workspace_features.sql...
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Enable required extensions\ncreate extension if not exists \"uuid-ossp\"","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create tables if they don't exist\ncreate table if not exists public.workspaces (\n    id uuid default uuid_generate_v4() primary key,\n    name text not null,\n    slug text unique not null,\n    owner_id uuid references auth.users(id) on delete cascade,\n    logo_url text,\n    created_at timestamptz default now(),\n    updated_at timestamptz default now()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create table if not exists public.members (\n    id uuid default uuid_generate_v4() primary key,\n    workspace_id uuid references public.workspaces(id) on delete cascade,\n    user_id uuid references auth.users(id) on delete cascade,\n    role text default 'member' check (role in ('owner', 'admin', 'member')),\n    created_at timestamptz default now(),\n    updated_at timestamptz default now(),\n    unique(workspace_id, user_id)\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create table if not exists public.domains (\n    id uuid default uuid_generate_v4() primary key,\n    workspace_id uuid references public.workspaces(id) on delete cascade,\n    domain text unique not null,\n    status text default 'pending' check (status in ('pending', 'active', 'invalid')),\n    created_at timestamptz default now(),\n    updated_at timestamptz default now()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create table if not exists public.subscription_plans (\n    id uuid default uuid_generate_v4() primary key,\n    name text not null,\n    description text,\n    price decimal(10,2) not null,\n    features jsonb,\n    created_at timestamptz default now(),\n    updated_at timestamptz default now()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create table if not exists public.subscriptions (\n    id uuid default uuid_generate_v4() primary key,\n    workspace_id uuid references public.workspaces(id) on delete cascade,\n    plan_id uuid references public.subscription_plans(id),\n    status text default 'active' check (status in ('active', 'cancelled', 'expired')),\n    current_period_start timestamptz,\n    current_period_end timestamptz,\n    created_at timestamptz default now(),\n    updated_at timestamptz default now()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create indexes if they don't exist\ncreate index if not exists idx_workspaces_owner on public.workspaces(owner_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create index if not exists idx_members_workspace on public.members(workspace_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create index if not exists idx_members_user on public.members(user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create index if not exists idx_domains_workspace on public.domains(workspace_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create index if not exists idx_subscriptions_workspace on public.subscriptions(workspace_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create index if not exists idx_subscriptions_plan on public.subscriptions(plan_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Enable RLS\nalter table public.workspaces enable row level security","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"alter table public.members enable row level security","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"alter table public.domains enable row level security","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"alter table public.subscription_plans enable row level security","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"alter table public.subscriptions enable row level security","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Drop existing policies if they exist\ndrop policy if exists \"Users can view their own workspaces\" on public.workspaces","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can create workspaces\" on public.workspaces","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can update their own workspaces\" on public.workspaces","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop policy if exists \"Users can delete their own workspaces\" on public.workspaces","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create policies\ncreate policy \"Users can view their own workspaces\"\n    on public.workspaces for select\n    using (auth.uid() in (\n        select user_id from public.members where workspace_id = workspaces.id\n        union\n        select owner_id from public.workspaces where owner_id = auth.uid()\n    ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can create workspaces\"\n    on public.workspaces for insert\n    with check (auth.uid() = owner_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can update their own workspaces\"\n    on public.workspaces for update\n    using (auth.uid() = owner_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Users can delete their own workspaces\"\n    on public.workspaces for delete\n    using (auth.uid() = owner_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create function for updated_at trigger\ncreate or replace function public.handle_workspace_updated_at()\nreturns trigger as $$\nbegin\n  new.updated_at = now();\n  return new;\nend;\n$$ language plpgsql","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create triggers for updated_at\ncreate trigger handle_workspace_updated_at\n    before update on public.workspaces\n    for each row\n    execute function public.handle_workspace_updated_at()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create trigger handle_workspace_updated_at\n    before update on public.members\n    for each row\n    execute function public.handle_workspace_updated_at()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create trigger handle_workspace_updated_at\n    before update on public.domains\n    for each row\n    execute function public.handle_workspace_updated_at()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create trigger handle_workspace_updated_at\n    before update on public.subscription_plans\n    for each row\n    execute function public.handle_workspace_updated_at()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create trigger handle_workspace_updated_at\n    before update on public.subscriptions\n    for each row\n    execute function public.handle_workspace_updated_at()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)","ParameterOIDs":[25,25,1009]}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":[0,0,1],"Parameters":[{"text":"20240320000000"},{"text":"add_workspace_features"},{"binary":"0000000100000000000000190000001f00000001000000482d2d20456e61626c6520726571756972656420657874656e73696f6e730a63726561746520657874656e73696f6e206966206e6f74206578697374732022757569642d6f73737022000001652d2d20437265617465207461626c6573206966207468657920646f6e27742065786973740a637265617465207461626c65206966206e6f7420657869737473207075626c69632e776f726b73706163657320280a20202020696420757569642064656661756c7420757569645f67656e65726174655f76342829207072696d617279206b65792c0a202020206e616d652074657874206e6f74206e756c6c2c0a20202020736c7567207465787420756e69717565206e6f74206e756c6c2c0a202020206f776e65725f69642075756964207265666572656e63657320617574682e757365727328696429206f6e2064656c65746520636173636164652c0a202020206c6f676f5f75726c20746578742c0a20202020637265617465645f61742074696d657374616d70747a2064656661756c74206e6f7728292c0a20202020757064617465645f61742074696d657374616d70747a2064656661756c74206e6f7728290a29000001ac637265617465207461626c65206966206e6f7420657869737473207075626c69632e6d656d6265727320280a20202020696420757569642064656661756c7420757569645f67656e65726174655f76342829207072696d617279206b65792c0a20202020776f726b73706163655f69642075756964207265666572656e636573207075626c69632e776f726b73706163657328696429206f6e2064656c65746520636173636164652c0a20202020757365725f69642075756964207265666572656e63657320617574682e757365727328696429206f6e2064656c65746520636173636164652c0a20202020726f6c6520746578742064656661756c7420276d656d6265722720636865636b2028726f6c6520696e2028276f776e6572272c202761646d696e272c20276d656d6265722729292c0a20202020637265617465645f61742074696d657374616d70747a2064656661756c74206e6f7728292c0a20202020757064617465645f61742074696d657374616d70747a2064656661756c74206e6f7728292c0a20202020756e6971756528776f726b73706163655f69642c20757365725f6964290a2900000175637265617465207461626c65206966206e6f7420657869737473207075626c69632e646f6d61696e7320280a20202020696420757569642064656661756c7420757569645f67656e65726174655f76342829207072696d617279206b65792c0a20202020776f726b73706163655f69642075756964207265666572656e636573207075626c69632e776f726b73706163657328696429206f6e2064656c65746520636173636164652c0a20202020646f6d61696e207465787420756e69717565206e6f74206e756c6c2c0a2020202073746174757320746578742064656661756c74202770656e64696e672720636865636b202873746174757320696e20282770656e64696e67272c2027616374697665272c2027696e76616c69642729292c0a20202020637265617465645f61742074696d657374616d70747a2064656661756c74206e6f7728292c0a20202020757064617465645f61742074696d657374616d70747a2064656661756c74206e6f7728290a2900000123637265617465207461626c65206966206e6f7420657869737473207075626c69632e737562736372697074696f6e5f706c616e7320280a20202020696420757569642064656661756c7420757569645f67656e65726174655f76342829207072696d617279206b65792c0a202020206e616d652074657874206e6f74206e756c6c2c0a202020206465736372697074696f6e20746578742c0a20202020707269636520646563696d616c2831302c3229206e6f74206e756c6c2c0a202020206665617475726573206a736f6e622c0a20202020637265617465645f61742074696d657374616d70747a2064656661756c74206e6f7728292c0a20202020757064617465645f61742074696d657374616d70747a2064656661756c74206e6f7728290a29000001e0637265617465207461626c65206966206e6f7420657869737473207075626c69632e737562736372697074696f6e7320280a20202020696420757569642064656661756c7420757569645f67656e65726174655f76342829207072696d617279206b65792c0a20202020776f726b73706163655f69642075756964207265666572656e636573207075626c69632e776f726b73706163657328696429206f6e2064656c65746520636173636164652c0a20202020706c616e5f69642075756964207265666572656e636573207075626c69632e737562736372697074696f6e5f706c616e73286964292c0a2020202073746174757320746578742064656661756c7420276163746976652720636865636b202873746174757320696e202827616374697665272c202763616e63656c6c6564272c2027657870697265642729292c0a2020202063757272656e745f706572696f645f73746172742074696d657374616d70747a2c0a2020202063757272656e745f706572696f645f656e642074696d657374616d70747a2c0a20202020637265617465645f61742074696d657374616d70747a2064656661756c74206e6f7728292c0a20202020757064617465645f61742074696d657374616d70747a2064656661756c74206e6f7728290a29000000742d2d2043726561746520696e6465786573206966207468657920646f6e27742065786973740a63726561746520696e646578206966206e6f7420657869737473206964785f776f726b7370616365735f6f776e6572206f6e207075626c69632e776f726b737061636573286f776e65725f6964290000005063726561746520696e646578206966206e6f7420657869737473206964785f6d656d626572735f776f726b7370616365206f6e207075626c69632e6d656d6265727328776f726b73706163655f6964290000004663726561746520696e646578206966206e6f7420657869737473206964785f6d656d626572735f75736572206f6e207075626c69632e6d656d6265727328757365725f6964290000005063726561746520696e646578206966206e6f7420657869737473206964785f646f6d61696e735f776f726b7370616365206f6e207075626c69632e646f6d61696e7328776f726b73706163655f6964290000005c63726561746520696e646578206966206e6f7420657869737473206964785f737562736372697074696f6e735f776f726b7370616365206f6e207075626c69632e737562736372697074696f6e7328776f726b73706163655f6964290000005263726561746520696e646578206966206e6f7420657869737473206964785f737562736372697074696f6e735f706c616e206f6e207075626c69632e737562736372697074696f6e7328706c616e5f696429000000452d2d20456e61626c6520524c530a616c746572207461626c65207075626c69632e776f726b73706163657320656e61626c6520726f77206c6576656c20736563757269747900000034616c746572207461626c65207075626c69632e6d656d6265727320656e61626c6520726f77206c6576656c20736563757269747900000034616c746572207461626c65207075626c69632e646f6d61696e7320656e61626c6520726f77206c6576656c2073656375726974790000003f616c746572207461626c65207075626c69632e737562736372697074696f6e5f706c616e7320656e61626c6520726f77206c6576656c2073656375726974790000003a616c746572207461626c65207075626c69632e737562736372697074696f6e7320656e61626c6520726f77206c6576656c207365637572697479000000782d2d2044726f70206578697374696e6720706f6c696369657320696620746865792065786973740a64726f7020706f6c69637920696620657869737473202255736572732063616e2076696577207468656972206f776e20776f726b73706163657322206f6e207075626c69632e776f726b7370616365730000004864726f7020706f6c69637920696620657869737473202255736572732063616e2063726561746520776f726b73706163657322206f6e207075626c69632e776f726b7370616365730000005264726f7020706f6c69637920696620657869737473202255736572732063616e20757064617465207468656972206f776e20776f726b73706163657322206f6e207075626c69632e776f726b7370616365730000005264726f7020706f6c69637920696620657869737473202255736572732063616e2064656c657465207468656972206f776e20776f726b73706163657322206f6e207075626c69632e776f726b737061636573000001332d2d2043726561746520706f6c69636965730a63726561746520706f6c696379202255736572732063616e2076696577207468656972206f776e20776f726b737061636573220a202020206f6e207075626c69632e776f726b73706163657320666f722073656c6563740a202020207573696e672028617574682e756964282920696e20280a202020202020202073656c65637420757365725f69642066726f6d207075626c69632e6d656d6265727320776865726520776f726b73706163655f6964203d20776f726b7370616365732e69640a2020202020202020756e696f6e0a202020202020202073656c656374206f776e65725f69642066726f6d207075626c69632e776f726b737061636573207768657265206f776e65725f6964203d20617574682e75696428290a2020202029290000007663726561746520706f6c696379202255736572732063616e2063726561746520776f726b737061636573220a202020206f6e207075626c69632e776f726b73706163657320666f7220696e736572740a202020207769746820636865636b2028617574682e7569642829203d206f776e65725f6964290000007b63726561746520706f6c696379202255736572732063616e20757064617465207468656972206f776e20776f726b737061636573220a202020206f6e207075626c69632e776f726b73706163657320666f72207570646174650a202020207573696e672028617574682e7569642829203d206f776e65725f6964290000007b63726561746520706f6c696379202255736572732063616e2064656c657465207468656972206f776e20776f726b737061636573220a202020206f6e207075626c69632e776f726b73706163657320666f722064656c6574650a202020207573696e672028617574682e7569642829203d206f776e65725f696429000000c62d2d204372656174652066756e6374696f6e20666f7220757064617465645f617420747269676765720a637265617465206f72207265706c6163652066756e6374696f6e207075626c69632e68616e646c655f776f726b73706163655f757064617465645f617428290a72657475726e7320747269676765722061732024240a626567696e0a20206e65772e757064617465645f6174203d206e6f7728293b0a202072657475726e206e65773b0a656e643b0a2424206c616e677561676520706c706773716c000000be2d2d2043726561746520747269676765727320666f7220757064617465645f61740a63726561746520747269676765722068616e646c655f776f726b73706163655f757064617465645f61740a202020206265666f726520757064617465206f6e207075626c69632e776f726b7370616365730a20202020666f72206561636820726f770a20202020657865637574652066756e6374696f6e207075626c69632e68616e646c655f776f726b73706163655f757064617465645f617428290000009963726561746520747269676765722068616e646c655f776f726b73706163655f757064617465645f61740a202020206265666f726520757064617465206f6e207075626c69632e6d656d626572730a20202020666f72206561636820726f770a20202020657865637574652066756e6374696f6e207075626c69632e68616e646c655f776f726b73706163655f757064617465645f617428290000009963726561746520747269676765722068616e646c655f776f726b73706163655f757064617465645f61740a202020206265666f726520757064617465206f6e207075626c69632e646f6d61696e730a20202020666f72206561636820726f770a20202020657865637574652066756e6374696f6e207075626c69632e68616e646c655f776f726b73706163655f757064617465645f61742829000000a463726561746520747269676765722068616e646c655f776f726b73706163655f757064617465645f61740a202020206265666f726520757064617465206f6e207075626c69632e737562736372697074696f6e5f706c616e730a20202020666f72206561636820726f770a20202020657865637574652066756e6374696f6e207075626c69632e68616e646c655f776f726b73706163655f757064617465645f617428290000009f63726561746520747269676765722068616e646c655f776f726b73706163655f757064617465645f61740a202020206265666f726520757064617465206f6e207075626c69632e737562736372697074696f6e730a20202020666f72206561636820726f770a20202020657865637574652066756e6374696f6e207075626c69632e68616e646c655f776f726b73706163655f757064617465645f61742829"}],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42710","Message":"extension \"uuid-ossp\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"extension.c","Line":1740,"Routine":"CreateExtension","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE EXTENSION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can view their own workspaces\" for relation \"public.workspaces\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can create workspaces\" for relation \"public.workspaces\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can update their own workspaces\" for relation \"public.workspaces\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can delete their own workspaces\" for relation \"public.workspaces\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 1"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Applying migration 20240320000001_add_workspace_core.sql...
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Enable required extensions\ncreate extension if not exists \"uuid-ossp\"","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create extension if not exists \"pg_graphql\"","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create workspaces table\ncreate table if not exists public.workspaces (\n    id uuid default uuid_generate_v4() primary key,\n    name text not null,\n    slug text unique not null,\n    created_at timestamptz default timezone('utc'::text, now()),\n    updated_at timestamptz default timezone('utc'::text, now())\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create indexes for workspaces\ncreate index if not exists workspaces_slug_idx on public.workspaces (slug)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create members table\ncreate table if not exists public.members (\n    id uuid default uuid_generate_v4() primary key,\n    workspace_id uuid references public.workspaces(id) on delete cascade,\n    user_id uuid references auth.users(id) on delete cascade,\n    role text not null check (role in ('owner', 'admin', 'member')),\n    created_at timestamptz default timezone('utc'::text, now()),\n    updated_at timestamptz default timezone('utc'::text, now()),\n    unique(workspace_id, user_id)\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create indexes for members\ncreate index if not exists members_workspace_id_idx on public.members (workspace_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create index if not exists members_user_id_idx on public.members (user_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create workspace invitations table\ncreate table if not exists public.workspace_invitations (\n    id uuid default uuid_generate_v4() primary key,\n    workspace_id uuid references public.workspaces(id) on delete cascade,\n    email text not null,\n    role text not null check (role in ('admin', 'member')),\n    token text not null unique,\n    expires_at timestamptz not null,\n    created_at timestamptz default timezone('utc'::text, now()),\n    updated_at timestamptz default timezone('utc'::text, now())\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create indexes for invitations\ncreate index if not exists workspace_invitations_workspace_id_idx on public.workspace_invitations (workspace_id)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create index if not exists workspace_invitations_token_idx on public.workspace_invitations (token)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create index if not exists workspace_invitations_email_idx on public.workspace_invitations (email)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Enable RLS\nalter table public.workspaces enable row level security","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"alter table public.members enable row level security","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"alter table public.workspace_invitations enable row level security","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create policies for workspaces\ncreate policy \"Users can view workspaces they are members of\"\n    on public.workspaces for select\n    using (auth.uid() in (\n        select user_id from public.members\n        where workspace_id = id\n    ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Workspace owners can update workspace\"\n    on public.workspaces for update\n    using (auth.uid() in (\n        select user_id from public.members\n        where workspace_id = id\n        and role = 'owner'\n    ))\n    with check (auth.uid() in (\n        select user_id from public.members\n        where workspace_id = id\n        and role = 'owner'\n    ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Workspace owners can delete workspace\"\n    on public.workspaces for delete\n    using (auth.uid() in (\n        select user_id from public.members\n        where workspace_id = id\n        and role = 'owner'\n    ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Authenticated users can create workspaces\"\n    on public.workspaces for insert\n    with check (auth.role() = 'authenticated')","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create policies for members\ncreate policy \"Users can view members in their workspaces\"\n    on public.members for select\n    using (auth.uid() in (\n        select user_id from public.members m2\n        where m2.workspace_id = workspace_id\n    ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Workspace owners and admins can manage members\"\n    on public.members for all\n    using (auth.uid() in (\n        select user_id from public.members m2\n        where m2.workspace_id = workspace_id\n        and m2.role in ('owner', 'admin')\n    ))\n    with check (auth.uid() in (\n        select user_id from public.members m2\n        where m2.workspace_id = workspace_id\n        and m2.role in ('owner', 'admin')\n    ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create function for updated_at trigger\ncreate or replace function public.handle_workspace_updated_at()\nreturns trigger as $$\nbegin\n    new.updated_at = timezone('utc'::text, now());\n    return new;\nend;\n$$ language plpgsql security definer","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Drop existing triggers if they exist\ndrop trigger if exists handle_workspace_updated_at on public.workspaces","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop trigger if exists handle_workspace_updated_at on public.members","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"drop trigger if exists handle_workspace_updated_at on public.workspace_invitations","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create triggers for updated_at\ncreate trigger handle_workspace_updated_at\n    before update on public.workspaces\n    for each row\n    execute function public.handle_workspace_updated_at()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create trigger handle_workspace_updated_at\n    before update on public.members\n    for each row\n    execute function public.handle_workspace_updated_at()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create trigger handle_workspace_updated_at\n    before update on public.workspace_invitations\n    for each row\n    execute function public.handle_workspace_updated_at()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)","ParameterOIDs":[25,25,1009]}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":[0,0,1],"Parameters":[{"text":"20240320000001"},{"text":"add_workspace_core"},{"binary":"0000000100000000000000190000001b00000001000000482d2d20456e61626c6520726571756972656420657874656e73696f6e730a63726561746520657874656e73696f6e206966206e6f74206578697374732022757569642d6f737370220000002b63726561746520657874656e73696f6e206966206e6f7420657869737473202270675f6772617068716c22000001372d2d2043726561746520776f726b737061636573207461626c650a637265617465207461626c65206966206e6f7420657869737473207075626c69632e776f726b73706163657320280a20202020696420757569642064656661756c7420757569645f67656e65726174655f76342829207072696d617279206b65792c0a202020206e616d652074657874206e6f74206e756c6c2c0a20202020736c7567207465787420756e69717565206e6f74206e756c6c2c0a20202020637265617465645f61742074696d657374616d70747a2064656661756c742074696d657a6f6e652827757463273a3a746578742c206e6f772829292c0a20202020757064617465645f61742074696d657374616d70747a2064656661756c742074696d657a6f6e652827757463273a3a746578742c206e6f772829290a290000006b2d2d2043726561746520696e646578657320666f7220776f726b7370616365730a63726561746520696e646578206966206e6f742065786973747320776f726b7370616365735f736c75675f696478206f6e207075626c69632e776f726b7370616365732028736c756729000001ea2d2d20437265617465206d656d62657273207461626c650a637265617465207461626c65206966206e6f7420657869737473207075626c69632e6d656d6265727320280a20202020696420757569642064656661756c7420757569645f67656e65726174655f76342829207072696d617279206b65792c0a20202020776f726b73706163655f69642075756964207265666572656e636573207075626c69632e776f726b73706163657328696429206f6e2064656c65746520636173636164652c0a20202020757365725f69642075756964207265666572656e63657320617574682e757365727328696429206f6e2064656c65746520636173636164652c0a20202020726f6c652074657874206e6f74206e756c6c20636865636b2028726f6c6520696e2028276f776e6572272c202761646d696e272c20276d656d6265722729292c0a20202020637265617465645f61742074696d657374616d70747a2064656661756c742074696d657a6f6e652827757463273a3a746578742c206e6f772829292c0a20202020757064617465645f61742074696d657374616d70747a2064656661756c742074696d657a6f6e652827757463273a3a746578742c206e6f772829292c0a20202020756e6971756528776f726b73706163655f69642c20757365725f6964290a29000000722d2d2043726561746520696e646578657320666f72206d656d626572730a63726561746520696e646578206966206e6f7420657869737473206d656d626572735f776f726b73706163655f69645f696478206f6e207075626c69632e6d656d626572732028776f726b73706163655f6964290000004a63726561746520696e646578206966206e6f7420657869737473206d656d626572735f757365725f69645f696478206f6e207075626c69632e6d656d626572732028757365725f696429000001fa2d2d2043726561746520776f726b737061636520696e7669746174696f6e73207461626c650a637265617465207461626c65206966206e6f7420657869737473207075626c69632e776f726b73706163655f696e7669746174696f6e7320280a20202020696420757569642064656661756c7420757569645f67656e65726174655f76342829207072696d617279206b65792c0a20202020776f726b73706163655f69642075756964207265666572656e636573207075626c69632e776f726b73706163657328696429206f6e2064656c65746520636173636164652c0a20202020656d61696c2074657874206e6f74206e756c6c2c0a20202020726f6c652074657874206e6f74206e756c6c20636865636b2028726f6c6520696e20282761646d696e272c20276d656d6265722729292c0a20202020746f6b656e2074657874206e6f74206e756c6c20756e697175652c0a20202020657870697265735f61742074696d657374616d70747a206e6f74206e756c6c2c0a20202020637265617465645f61742074696d657374616d70747a2064656661756c742074696d657a6f6e652827757463273a3a746578742c206e6f772829292c0a20202020757064617465645f61742074696d657374616d70747a2064656661756c742074696d657a6f6e652827757463273a3a746578742c206e6f772829290a29000000922d2d2043726561746520696e646578657320666f7220696e7669746174696f6e730a63726561746520696e646578206966206e6f742065786973747320776f726b73706163655f696e7669746174696f6e735f776f726b73706163655f69645f696478206f6e207075626c69632e776f726b73706163655f696e7669746174696f6e732028776f726b73706163655f6964290000006263726561746520696e646578206966206e6f742065786973747320776f726b73706163655f696e7669746174696f6e735f746f6b656e5f696478206f6e207075626c69632e776f726b73706163655f696e7669746174696f6e732028746f6b656e290000006263726561746520696e646578206966206e6f742065786973747320776f726b73706163655f696e7669746174696f6e735f656d61696c5f696478206f6e207075626c69632e776f726b73706163655f696e7669746174696f6e732028656d61696c29000000452d2d20456e61626c6520524c530a616c746572207461626c65207075626c69632e776f726b73706163657320656e61626c6520726f77206c6576656c20736563757269747900000034616c746572207461626c65207075626c69632e6d656d6265727320656e61626c6520726f77206c6576656c20736563757269747900000042616c746572207461626c65207075626c69632e776f726b73706163655f696e7669746174696f6e7320656e61626c6520726f77206c6576656c207365637572697479000000f02d2d2043726561746520706f6c696369657320666f7220776f726b7370616365730a63726561746520706f6c696379202255736572732063616e207669657720776f726b737061636573207468657920617265206d656d62657273206f66220a202020206f6e207075626c69632e776f726b73706163657320666f722073656c6563740a202020207573696e672028617574682e756964282920696e20280a202020202020202073656c65637420757365725f69642066726f6d207075626c69632e6d656d626572730a2020202020202020776865726520776f726b73706163655f6964203d2069640a2020202029290000016e63726561746520706f6c6963792022576f726b7370616365206f776e6572732063616e2075706461746520776f726b7370616365220a202020206f6e207075626c69632e776f726b73706163657320666f72207570646174650a202020207573696e672028617574682e756964282920696e20280a202020202020202073656c65637420757365725f69642066726f6d207075626c69632e6d656d626572730a2020202020202020776865726520776f726b73706163655f6964203d2069640a2020202020202020616e6420726f6c65203d20276f776e6572270a2020202029290a202020207769746820636865636b2028617574682e756964282920696e20280a202020202020202073656c65637420757365725f69642066726f6d207075626c69632e6d656d626572730a2020202020202020776865726520776f726b73706163655f6964203d2069640a2020202020202020616e6420726f6c65203d20276f776e6572270a202020202929000000e163726561746520706f6c6963792022576f726b7370616365206f776e6572732063616e2064656c65746520776f726b7370616365220a202020206f6e207075626c69632e776f726b73706163657320666f722064656c6574650a202020207573696e672028617574682e756964282920696e20280a202020202020202073656c65637420757365725f69642066726f6d207075626c69632e6d656d626572730a2020202020202020776865726520776f726b73706163655f6964203d2069640a2020202020202020616e6420726f6c65203d20276f776e6572270a2020202029290000008c63726561746520706f6c696379202241757468656e746963617465642075736572732063616e2063726561746520776f726b737061636573220a202020206f6e207075626c69632e776f726b73706163657320666f7220696e736572740a202020207769746820636865636b2028617574682e726f6c652829203d202761757468656e746963617465642729000000f72d2d2043726561746520706f6c696369657320666f72206d656d626572730a63726561746520706f6c696379202255736572732063616e2076696577206d656d6265727320696e20746865697220776f726b737061636573220a202020206f6e207075626c69632e6d656d6265727320666f722073656c6563740a202020207573696e672028617574682e756964282920696e20280a202020202020202073656c65637420757365725f69642066726f6d207075626c69632e6d656d62657273206d320a20202020202020207768657265206d322e776f726b73706163655f6964203d20776f726b73706163655f69640a202020202929000001af63726561746520706f6c6963792022576f726b7370616365206f776e65727320616e642061646d696e732063616e206d616e616765206d656d62657273220a202020206f6e207075626c69632e6d656d6265727320666f7220616c6c0a202020207573696e672028617574682e756964282920696e20280a202020202020202073656c65637420757365725f69642066726f6d207075626c69632e6d656d62657273206d320a20202020202020207768657265206d322e776f726b73706163655f6964203d20776f726b73706163655f69640a2020202020202020616e64206d322e726f6c6520696e2028276f776e6572272c202761646d696e27290a2020202029290a202020207769746820636865636b2028617574682e756964282920696e20280a202020202020202073656c65637420757365725f69642066726f6d207075626c69632e6d656d62657273206d320a20202020202020207768657265206d322e776f726b73706163655f6964203d20776f726b73706163655f69640a2020202020202020616e64206d322e726f6c6520696e2028276f776e6572272c202761646d696e27290a202020202929000000f22d2d204372656174652066756e6374696f6e20666f7220757064617465645f617420747269676765720a637265617465206f72207265706c6163652066756e6374696f6e207075626c69632e68616e646c655f776f726b73706163655f757064617465645f617428290a72657475726e7320747269676765722061732024240a626567696e0a202020206e65772e757064617465645f6174203d2074696d657a6f6e652827757463273a3a746578742c206e6f772829293b0a2020202072657475726e206e65773b0a656e643b0a2424206c616e677561676520706c706773716c20736563757269747920646566696e65720000006f2d2d2044726f70206578697374696e6720747269676765727320696620746865792065786973740a64726f702074726967676572206966206578697374732068616e646c655f776f726b73706163655f757064617465645f6174206f6e207075626c69632e776f726b7370616365730000004464726f702074726967676572206966206578697374732068616e646c655f776f726b73706163655f757064617465645f6174206f6e207075626c69632e6d656d626572730000005264726f702074726967676572206966206578697374732068616e646c655f776f726b73706163655f757064617465645f6174206f6e207075626c69632e776f726b73706163655f696e7669746174696f6e73000000be2d2d2043726561746520747269676765727320666f7220757064617465645f61740a63726561746520747269676765722068616e646c655f776f726b73706163655f757064617465645f61740a202020206265666f726520757064617465206f6e207075626c69632e776f726b7370616365730a20202020666f72206561636820726f770a20202020657865637574652066756e6374696f6e207075626c69632e68616e646c655f776f726b73706163655f757064617465645f617428290000009963726561746520747269676765722068616e646c655f776f726b73706163655f757064617465645f61740a202020206265666f726520757064617465206f6e207075626c69632e6d656d626572730a20202020666f72206561636820726f770a20202020657865637574652066756e6374696f6e207075626c69632e68616e646c655f776f726b73706163655f757064617465645f61742829000000a763726561746520747269676765722068616e646c655f776f726b73706163655f757064617465645f61740a202020206265666f726520757064617465206f6e207075626c69632e776f726b73706163655f696e7669746174696f6e730a20202020666f72206561636820726f770a20202020657865637574652066756e6374696f6e207075626c69632e68616e646c655f776f726b73706163655f757064617465645f61742829"}],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42710","Message":"extension \"uuid-ossp\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"extension.c","Line":1740,"Routine":"CreateExtension","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE EXTENSION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42710","Message":"extension \"pg_graphql\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"extension.c","Line":1740,"Routine":"CreateExtension","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE EXTENSION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42P07","Message":"relation \"workspaces\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"parse_utilcmd.c","Line":207,"Routine":"transformCreateStmt","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42P07","Message":"relation \"members\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"parse_utilcmd.c","Line":207,"Routine":"transformCreateStmt","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE INDEX"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"trigger \"handle_workspace_updated_at\" for relation \"public.workspace_invitations\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 1"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Applying migration 20240320000002_add_workspace_invitations.sql...
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Drop existing policies if they exist\nDROP POLICY IF EXISTS \"Users can view invitations for their workspaces\" ON workspace_invitations","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"DROP POLICY IF EXISTS \"Workspace owners and admins can manage invitations\" ON workspace_invitations","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create workspace invitations table\nCREATE TABLE IF NOT EXISTS workspace_invitations (\n    id UUID DEFAULT extensions.uuid_generate_v4() PRIMARY KEY,\n    workspace_id UUID REFERENCES workspaces(id) ON DELETE CASCADE,\n    email TEXT NOT NULL,\n    role TEXT NOT NULL CHECK (role IN ('admin', 'member')),\n    token TEXT NOT NULL UNIQUE,\n    expires_at TIMESTAMPTZ NOT NULL,\n    created_at TIMESTAMPTZ DEFAULT now(),\n    updated_at TIMESTAMPTZ DEFAULT now()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Enable RLS\nALTER TABLE workspace_invitations ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create policies for workspace invitations\ncreate policy \"Users can view invitations for their workspaces\"\n    on public.workspace_invitations for select\n    using (workspace_id in (\n        select workspace_id from members\n        where user_id = auth.uid()\n    ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Workspace owners and admins can insert invitations\"\n    on public.workspace_invitations for insert\n    with check (workspace_id in (\n        select workspace_id from members\n        where user_id = auth.uid()\n        and role in ('owner', 'admin')\n    ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Workspace owners and admins can update invitations\"\n    on public.workspace_invitations for update\n    using (workspace_id in (\n        select workspace_id from members\n        where user_id = auth.uid()\n        and role in ('owner', 'admin')\n    ))\n    with check (workspace_id in (\n        select workspace_id from members\n        where user_id = auth.uid()\n        and role in ('owner', 'admin')\n    ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"create policy \"Workspace owners and admins can delete invitations\"\n    on public.workspace_invitations for delete\n    using (workspace_id in (\n        select workspace_id from members\n        where user_id = auth.uid()\n        and role in ('owner', 'admin')\n    ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)","ParameterOIDs":[25,25,1009]}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":[0,0,1],"Parameters":[{"text":"20240320000002"},{"text":"add_workspace_invitations"},{"binary":"0000000100000000000000190000000800000001000000882d2d2044726f70206578697374696e6720706f6c696369657320696620746865792065786973740a44524f5020504f4c49435920494620455849535453202255736572732063616e207669657720696e7669746174696f6e7320666f7220746865697220776f726b73706163657322204f4e20776f726b73706163655f696e7669746174696f6e730000006344524f5020504f4c494359204946204558495354532022576f726b7370616365206f776e65727320616e642061646d696e732063616e206d616e61676520696e7669746174696f6e7322204f4e20776f726b73706163655f696e7669746174696f6e73000001c92d2d2043726561746520776f726b737061636520696e7669746174696f6e73207461626c650a435245415445205441424c45204946204e4f542045584953545320776f726b73706163655f696e7669746174696f6e7320280a20202020696420555549442044454641554c5420657874656e73696f6e732e757569645f67656e65726174655f76342829205052494d415259204b45592c0a20202020776f726b73706163655f69642055554944205245464552454e43455320776f726b73706163657328696429204f4e2044454c45544520434153434144452c0a20202020656d61696c2054455854204e4f54204e554c4c2c0a20202020726f6c652054455854204e4f54204e554c4c20434845434b2028726f6c6520494e20282761646d696e272c20276d656d6265722729292c0a20202020746f6b656e2054455854204e4f54204e554c4c20554e495155452c0a20202020657870697265735f61742054494d455354414d50545a204e4f54204e554c4c2c0a20202020637265617465645f61742054494d455354414d50545a2044454641554c54206e6f7728292c0a20202020757064617465645f61742054494d455354414d50545a2044454641554c54206e6f7728290a29000000492d2d20456e61626c6520524c530a414c544552205441424c4520776f726b73706163655f696e7669746174696f6e7320454e41424c4520524f57204c4556454c2053454355524954590000010b2d2d2043726561746520706f6c696369657320666f7220776f726b737061636520696e7669746174696f6e730a63726561746520706f6c696379202255736572732063616e207669657720696e7669746174696f6e7320666f7220746865697220776f726b737061636573220a202020206f6e207075626c69632e776f726b73706163655f696e7669746174696f6e7320666f722073656c6563740a202020207573696e672028776f726b73706163655f696420696e20280a202020202020202073656c65637420776f726b73706163655f69642066726f6d206d656d626572730a2020202020202020776865726520757365725f6964203d20617574682e75696428290a2020202029290000010d63726561746520706f6c6963792022576f726b7370616365206f776e65727320616e642061646d696e732063616e20696e7365727420696e7669746174696f6e73220a202020206f6e207075626c69632e776f726b73706163655f696e7669746174696f6e7320666f7220696e736572740a202020207769746820636865636b2028776f726b73706163655f696420696e20280a202020202020202073656c65637420776f726b73706163655f69642066726f6d206d656d626572730a2020202020202020776865726520757365725f6964203d20617574682e75696428290a2020202020202020616e6420726f6c6520696e2028276f776e6572272c202761646d696e27290a202020202929000001a463726561746520706f6c6963792022576f726b7370616365206f776e65727320616e642061646d696e732063616e2075706461746520696e7669746174696f6e73220a202020206f6e207075626c69632e776f726b73706163655f696e7669746174696f6e7320666f72207570646174650a202020207573696e672028776f726b73706163655f696420696e20280a202020202020202073656c65637420776f726b73706163655f69642066726f6d206d656d626572730a2020202020202020776865726520757365725f6964203d20617574682e75696428290a2020202020202020616e6420726f6c6520696e2028276f776e6572272c202761646d696e27290a2020202029290a202020207769746820636865636b2028776f726b73706163655f696420696e20280a202020202020202073656c65637420776f726b73706163655f69642066726f6d206d656d626572730a2020202020202020776865726520757365725f6964203d20617574682e75696428290a2020202020202020616e6420726f6c6520696e2028276f776e6572272c202761646d696e27290a2020202029290000010863726561746520706f6c6963792022576f726b7370616365206f776e65727320616e642061646d696e732063616e2064656c65746520696e7669746174696f6e73220a202020206f6e207075626c69632e776f726b73706163655f696e7669746174696f6e7320666f722064656c6574650a202020207573696e672028776f726b73706163655f696420696e20280a202020202020202073656c65637420776f726b73706163655f69642066726f6d206d656d626572730a2020202020202020776865726520757365725f6964203d20617574682e75696428290a2020202020202020616e6420726f6c6520696e2028276f776e6572272c202761646d696e27290a202020202929"}],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Users can view invitations for their workspaces\" for relation \"workspace_invitations\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"policy \"Workspace owners and admins can manage invitations\" for relation \"workspace_invitations\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42P07","Message":"relation \"workspace_invitations\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"parse_utilcmd.c","Line":207,"Routine":"transformCreateStmt","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 1"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Applying migration 20240320000003_email_domains.sql...
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create email_domains table\nCREATE TABLE email_domains (\n    id UUID DEFAULT extensions.uuid_generate_v4() PRIMARY KEY,\n    workspace_id UUID NOT NULL REFERENCES workspaces(id) ON DELETE CASCADE,\n    domain TEXT NOT NULL,\n    verified BOOLEAN DEFAULT FALSE,\n    created_at TIMESTAMPTZ DEFAULT timezone('utc'::text, now()),\n    updated_at TIMESTAMPTZ DEFAULT timezone('utc'::text, now()),\n    UNIQUE(workspace_id, domain)\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Enable RLS\nALTER TABLE email_domains ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Policies for email_domains\nCREATE POLICY \"select_email_domains_policy\" ON email_domains\n    FOR SELECT\n    USING (\n        workspace_id IN (\n            SELECT workspace_id\n            FROM members\n            WHERE user_id = auth.uid()\n        )\n    )","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"insert_email_domains_policy\" ON email_domains\n    FOR INSERT\n    WITH CHECK (\n        workspace_id IN (\n            SELECT workspace_id\n            FROM members\n            WHERE user_id = auth.uid()\n            AND role IN ('owner', 'admin')\n        )\n    )","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"update_email_domains_policy\" ON email_domains\n    FOR UPDATE\n    USING (\n        workspace_id IN (\n            SELECT workspace_id\n            FROM members\n            WHERE user_id = auth.uid()\n            AND role IN ('owner', 'admin')\n        )\n    )\n    WITH CHECK (\n        workspace_id IN (\n            SELECT workspace_id\n            FROM members\n            WHERE user_id = auth.uid()\n            AND role IN ('owner', 'admin')\n        )\n    )","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"delete_email_domains_policy\" ON email_domains\n    FOR DELETE\n    USING (\n        workspace_id IN (\n            SELECT workspace_id\n            FROM members\n            WHERE user_id = auth.uid()\n            AND role IN ('owner', 'admin')\n        )\n    )","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Drop existing triggers\nDROP TRIGGER IF EXISTS handle_workspace_updated_at ON email_domains","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"DROP TRIGGER IF EXISTS email_domains_update_trigger ON email_domains","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create trigger for updated_at\nCREATE TRIGGER email_domains_update_trigger\n    BEFORE UPDATE ON email_domains\n    FOR EACH ROW\n    EXECUTE FUNCTION handle_workspace_updated_at()","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create email_domain_verifications table\nCREATE TABLE email_domain_verifications (\n    id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n    email_domain_id UUID NOT NULL REFERENCES email_domains(id) ON DELETE CASCADE,\n    verification_type TEXT NOT NULL, -- 'MX', 'SPF', 'DKIM'\n    verification_value TEXT NOT NULL,\n    verified BOOLEAN DEFAULT FALSE,\n    verified_at TIMESTAMP WITH TIME ZONE,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Enable RLS for email_domain_verifications\nALTER TABLE email_domain_verifications ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Policies for email_domain_verifications\nCREATE POLICY \"select_email_domain_verifications_policy\" ON email_domain_verifications\n    FOR SELECT\n    USING (\n        email_domain_id IN (\n            SELECT id\n            FROM email_domains\n            WHERE workspace_id IN (\n                SELECT workspace_id\n                FROM members\n                WHERE user_id = auth.uid()\n            )\n        )\n    )","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"all_email_domain_verifications_policy\" ON email_domain_verifications\n    FOR ALL\n    USING (\n        email_domain_id IN (\n            SELECT id\n            FROM email_domains\n            WHERE workspace_id IN (\n                SELECT workspace_id\n                FROM members\n                WHERE user_id = auth.uid()\n                AND role IN ('owner', 'admin')\n            )\n        )\n    )","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create functions for email domain management\nCREATE OR REPLACE FUNCTION generate_dkim_keypair()\nRETURNS TABLE (private_key TEXT, public_key TEXT)\nLANGUAGE plpgsql\nAS $$\nBEGIN\n    -- This is a placeholder. In production, you would implement actual RSA key generation\n    -- or integrate with a key management service\n    RETURN QUERY SELECT\n        'private_key_placeholder'::TEXT AS private_key,\n        'public_key_placeholder'::TEXT AS public_key;\nEND;\n$$","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create function to verify email domain setup\nCREATE OR REPLACE FUNCTION verify_email_domain(domain_id UUID)\nRETURNS BOOLEAN\nLANGUAGE plpgsql\nAS $$\nDECLARE\n    all_verified BOOLEAN;\nBEGIN\n    -- Check if all verifications are complete\n    SELECT bool_and(verified)\n    INTO all_verified\n    FROM email_domain_verifications\n    WHERE email_domain_id = domain_id;\n\n    -- Update the email_domain verified status\n    IF all_verified THEN\n        UPDATE email_domains\n        SET verified = TRUE,\n            updated_at = CURRENT_TIMESTAMP\n        WHERE id = domain_id;\n    END IF;\n\n    RETURN all_verified;\nEND;\n$$","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)","ParameterOIDs":[25,25,1009]}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":[0,0,1],"Parameters":[{"text":"20240320000003"},{"text":"email_domains"},{"binary":"0000000100000000000000190000000f00000001000001a82d2d2043726561746520656d61696c5f646f6d61696e73207461626c650a435245415445205441424c4520656d61696c5f646f6d61696e7320280a20202020696420555549442044454641554c5420657874656e73696f6e732e757569645f67656e65726174655f76342829205052494d415259204b45592c0a20202020776f726b73706163655f69642055554944204e4f54204e554c4c205245464552454e43455320776f726b73706163657328696429204f4e2044454c45544520434153434144452c0a20202020646f6d61696e2054455854204e4f54204e554c4c2c0a20202020766572696669656420424f4f4c45414e2044454641554c542046414c53452c0a20202020637265617465645f61742054494d455354414d50545a2044454641554c542074696d657a6f6e652827757463273a3a746578742c206e6f772829292c0a20202020757064617465645f61742054494d455354414d50545a2044454641554c542074696d657a6f6e652827757463273a3a746578742c206e6f772829292c0a20202020554e4951554528776f726b73706163655f69642c20646f6d61696e290a29000000412d2d20456e61626c6520524c530a414c544552205441424c4520656d61696c5f646f6d61696e7320454e41424c4520524f57204c4556454c205345435552495459000000ff2d2d20506f6c696369657320666f7220656d61696c5f646f6d61696e730a43524541544520504f4c494359202273656c6563745f656d61696c5f646f6d61696e735f706f6c69637922204f4e20656d61696c5f646f6d61696e730a20202020464f522053454c4543540a202020205553494e4720280a2020202020202020776f726b73706163655f696420494e20280a20202020202020202020202053454c45435420776f726b73706163655f69640a20202020202020202020202046524f4d206d656d626572730a202020202020202020202020574845524520757365725f6964203d20617574682e75696428290a2020202020202020290a20202020290000011143524541544520504f4c4943592022696e736572745f656d61696c5f646f6d61696e735f706f6c69637922204f4e20656d61696c5f646f6d61696e730a20202020464f5220494e534552540a202020205749544820434845434b20280a2020202020202020776f726b73706163655f696420494e20280a20202020202020202020202053454c45435420776f726b73706163655f69640a20202020202020202020202046524f4d206d656d626572730a202020202020202020202020574845524520757365725f6964203d20617574682e75696428290a202020202020202020202020414e4420726f6c6520494e2028276f776e6572272c202761646d696e27290a2020202020202020290a2020202029000001d243524541544520504f4c49435920227570646174655f656d61696c5f646f6d61696e735f706f6c69637922204f4e20656d61696c5f646f6d61696e730a20202020464f52205550444154450a202020205553494e4720280a2020202020202020776f726b73706163655f696420494e20280a20202020202020202020202053454c45435420776f726b73706163655f69640a20202020202020202020202046524f4d206d656d626572730a202020202020202020202020574845524520757365725f6964203d20617574682e75696428290a202020202020202020202020414e4420726f6c6520494e2028276f776e6572272c202761646d696e27290a2020202020202020290a20202020290a202020205749544820434845434b20280a2020202020202020776f726b73706163655f696420494e20280a20202020202020202020202053454c45435420776f726b73706163655f69640a20202020202020202020202046524f4d206d656d626572730a202020202020202020202020574845524520757365725f6964203d20617574682e75696428290a202020202020202020202020414e4420726f6c6520494e2028276f776e6572272c202761646d696e27290a2020202020202020290a20202020290000010c43524541544520504f4c494359202264656c6574655f656d61696c5f646f6d61696e735f706f6c69637922204f4e20656d61696c5f646f6d61696e730a20202020464f522044454c4554450a202020205553494e4720280a2020202020202020776f726b73706163655f696420494e20280a20202020202020202020202053454c45435420776f726b73706163655f69640a20202020202020202020202046524f4d206d656d626572730a202020202020202020202020574845524520757365725f6964203d20617574682e75696428290a202020202020202020202020414e4420726f6c6520494e2028276f776e6572272c202761646d696e27290a2020202020202020290a20202020290000005d2d2d2044726f70206578697374696e672074726967676572730a44524f502054524947474552204946204558495354532068616e646c655f776f726b73706163655f757064617465645f6174204f4e20656d61696c5f646f6d61696e730000004444524f5020545249474745522049462045584953545320656d61696c5f646f6d61696e735f7570646174655f74726967676572204f4e20656d61696c5f646f6d61696e73000000b32d2d20437265617465207472696767657220666f7220757064617465645f61740a435245415445205452494747455220656d61696c5f646f6d61696e735f7570646174655f747269676765720a202020204245464f524520555044415445204f4e20656d61696c5f646f6d61696e730a20202020464f52204541434820524f570a20202020455845435554452046554e4354494f4e2068616e646c655f776f726b73706163655f757064617465645f61742829000002112d2d2043726561746520656d61696c5f646f6d61696e5f766572696669636174696f6e73207461626c650a435245415445205441424c4520656d61696c5f646f6d61696e5f766572696669636174696f6e7320280a20202020696420555549442044454641554c5420757569645f67656e65726174655f76342829205052494d415259204b45592c0a20202020656d61696c5f646f6d61696e5f69642055554944204e4f54204e554c4c205245464552454e43455320656d61696c5f646f6d61696e7328696429204f4e2044454c45544520434153434144452c0a20202020766572696669636174696f6e5f747970652054455854204e4f54204e554c4c2c202d2d20274d58272c2027535046272c2027444b494d270a20202020766572696669636174696f6e5f76616c75652054455854204e4f54204e554c4c2c0a20202020766572696669656420424f4f4c45414e2044454641554c542046414c53452c0a2020202076657269666965645f61742054494d455354414d5020574954482054494d45205a4f4e452c0a20202020637265617465645f61742054494d455354414d5020574954482054494d45205a4f4e452044454641554c542043555252454e545f54494d455354414d502c0a20202020757064617465645f61742054494d455354414d5020574954482054494d45205a4f4e452044454641554c542043555252454e545f54494d455354414d500a290000006d2d2d20456e61626c6520524c5320666f7220656d61696c5f646f6d61696e5f766572696669636174696f6e730a414c544552205441424c4520656d61696c5f646f6d61696e5f766572696669636174696f6e7320454e41424c4520524f57204c4556454c2053454355524954590000019c2d2d20506f6c696369657320666f7220656d61696c5f646f6d61696e5f766572696669636174696f6e730a43524541544520504f4c494359202273656c6563745f656d61696c5f646f6d61696e5f766572696669636174696f6e735f706f6c69637922204f4e20656d61696c5f646f6d61696e5f766572696669636174696f6e730a20202020464f522053454c4543540a202020205553494e4720280a2020202020202020656d61696c5f646f6d61696e5f696420494e20280a20202020202020202020202053454c4543542069640a20202020202020202020202046524f4d20656d61696c5f646f6d61696e730a202020202020202020202020574845524520776f726b73706163655f696420494e20280a2020202020202020202020202020202053454c45435420776f726b73706163655f69640a2020202020202020202020202020202046524f4d206d656d626572730a20202020202020202020202020202020574845524520757365725f6964203d20617574682e75696428290a202020202020202020202020290a2020202020202020290a20202020290000019a43524541544520504f4c4943592022616c6c5f656d61696c5f646f6d61696e5f766572696669636174696f6e735f706f6c69637922204f4e20656d61696c5f646f6d61696e5f766572696669636174696f6e730a20202020464f5220414c4c0a202020205553494e4720280a2020202020202020656d61696c5f646f6d61696e5f696420494e20280a20202020202020202020202053454c4543542069640a20202020202020202020202046524f4d20656d61696c5f646f6d61696e730a202020202020202020202020574845524520776f726b73706163655f696420494e20280a2020202020202020202020202020202053454c45435420776f726b73706163655f69640a2020202020202020202020202020202046524f4d206d656d626572730a20202020202020202020202020202020574845524520757365725f6964203d20617574682e75696428290a20202020202020202020202020202020414e4420726f6c6520494e2028276f776e6572272c202761646d696e27290a202020202020202020202020290a2020202020202020290a2020202029000001cc2d2d204372656174652066756e6374696f6e7320666f7220656d61696c20646f6d61696e206d616e6167656d656e740a435245415445204f52205245504c4143452046554e4354494f4e2067656e65726174655f646b696d5f6b65797061697228290a52455455524e53205441424c452028707269766174655f6b657920544558542c207075626c69635f6b65792054455854290a4c414e475541474520706c706773716c0a41532024240a424547494e0a202020202d2d2054686973206973206120706c616365686f6c6465722e20496e2070726f64756374696f6e2c20796f7520776f756c6420696d706c656d656e742061637475616c20525341206b65792067656e65726174696f6e0a202020202d2d206f7220696e7465677261746520776974682061206b6579206d616e6167656d656e7420736572766963650a2020202052455455524e2051554552592053454c4543540a202020202020202027707269766174655f6b65795f706c616365686f6c646572273a3a5445585420415320707269766174655f6b65792c0a2020202020202020277075626c69635f6b65795f706c616365686f6c646572273a3a54455854204153207075626c69635f6b65793b0a454e443b0a2424000002652d2d204372656174652066756e6374696f6e20746f2076657269667920656d61696c20646f6d61696e2073657475700a435245415445204f52205245504c4143452046554e4354494f4e207665726966795f656d61696c5f646f6d61696e28646f6d61696e5f69642055554944290a52455455524e5320424f4f4c45414e0a4c414e475541474520706c706773716c0a41532024240a4445434c4152450a20202020616c6c5f766572696669656420424f4f4c45414e3b0a424547494e0a202020202d2d20436865636b20696620616c6c20766572696669636174696f6e732061726520636f6d706c6574650a2020202053454c45435420626f6f6c5f616e64287665726966696564290a20202020494e544f20616c6c5f76657269666965640a2020202046524f4d20656d61696c5f646f6d61696e5f766572696669636174696f6e730a20202020574845524520656d61696c5f646f6d61696e5f6964203d20646f6d61696e5f69643b0a0a202020202d2d205570646174652074686520656d61696c5f646f6d61696e207665726966696564207374617475730a20202020494620616c6c5f7665726966696564205448454e0a202020202020202055504441544520656d61696c5f646f6d61696e730a2020202020202020534554207665726966696564203d20545255452c0a202020202020202020202020757064617465645f6174203d2043555252454e545f54494d455354414d500a20202020202020205748455245206964203d20646f6d61696e5f69643b0a20202020454e442049463b0a0a2020202052455455524e20616c6c5f76657269666965643b0a454e443b0a2424"}],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"trigger \"handle_workspace_updated_at\" for relation \"email_domains\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"00000","Message":"trigger \"email_domains_update_trigger\" for relation \"email_domains\" does not exist, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"dropcmds.c","Line":492,"Routine":"does_not_exist_skipping","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"DROP TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TRIGGER"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 1"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Applying migration 20240320000004_email_domain_verification.sql...
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create function to validate MX records\nCREATE OR REPLACE FUNCTION validate_mx_record(domain_name TEXT, expected_mx TEXT)\nRETURNS BOOLEAN\nLANGUAGE plpgsql\nAS $$\nBEGIN\n    -- In production, this would make a DNS lookup\n    -- For now, we'll simulate the check\n    RETURN TRUE;\nEND;\n$$","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create function to validate SPF record\nCREATE OR REPLACE FUNCTION validate_spf_record(domain_name TEXT, expected_spf TEXT)\nRETURNS BOOLEAN\nLANGUAGE plpgsql\nAS $$\nBEGIN\n    -- In production, this would make a DNS TXT lookup for SPF\n    -- For now, we'll simulate the check\n    RETURN TRUE;\nEND;\n$$","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create function to validate DKIM record\nCREATE OR REPLACE FUNCTION validate_dkim_record(domain_name TEXT, selector TEXT, public_key TEXT)\nRETURNS BOOLEAN\nLANGUAGE plpgsql\nAS $$\nBEGIN\n    -- In production, this would make a DNS TXT lookup for DKIM\n    -- For now, we'll simulate the check\n    RETURN TRUE;\nEND;\n$$","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create function to check all DNS records\nCREATE OR REPLACE FUNCTION check_domain_dns_records(domain_id UUID)\nRETURNS JSONB\nLANGUAGE plpgsql\nAS $$\nDECLARE\n    domain_rec RECORD;\n    mx_status BOOLEAN;\n    spf_status BOOLEAN;\n    dkim_status BOOLEAN;\n    result JSONB;\nBEGIN\n    -- Get domain details\n    SELECT * INTO domain_rec\n    FROM email_domains\n    WHERE id = domain_id;\n\n    -- Check MX record\n    mx_status := validate_mx_record(\n        domain_rec.domain_name,\n        domain_rec.mx_record\n    );\n\n    -- Check SPF record\n    spf_status := validate_spf_record(\n        domain_rec.domain_name,\n        domain_rec.spf_record\n    );\n\n    -- Check DKIM record\n    dkim_status := validate_dkim_record(\n        domain_rec.domain_name,\n        domain_rec.dkim_selector,\n        domain_rec.dkim_public_key\n    );\n\n    -- Update verification records\n    UPDATE email_domain_verifications\n    SET\n        verified = CASE\n            WHEN verification_type = 'MX' THEN mx_status\n            WHEN verification_type = 'SPF' THEN spf_status\n            WHEN verification_type = 'DKIM' THEN dkim_status\n            ELSE verified\n        END,\n        verified_at = CASE\n            WHEN verification_type = 'MX' AND mx_status THEN CURRENT_TIMESTAMP\n            WHEN verification_type = 'SPF' AND spf_status THEN CURRENT_TIMESTAMP\n            WHEN verification_type = 'DKIM' AND dkim_status THEN CURRENT_TIMESTAMP\n            ELSE verified_at\n        END\n    WHERE email_domain_id = domain_id;\n\n    -- Build result JSON\n    result := jsonb_build_object(\n        'mx_verified', mx_status,\n        'spf_verified', spf_status,\n        'dkim_verified', dkim_status,\n        'all_verified', (mx_status AND spf_status AND dkim_status)\n    );\n\n    -- Update domain verified status if all checks pass\n    IF (mx_status AND spf_status AND dkim_status) THEN\n        UPDATE email_domains\n        SET\n            verified = TRUE,\n            updated_at = CURRENT_TIMESTAMP\n        WHERE id = domain_id;\n    END IF;\n\n    RETURN result;\nEND;\n$$","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create function to generate email forwarding rules\nCREATE OR REPLACE FUNCTION create_email_forwarding_rule(\n    domain_id UUID,\n    source_address TEXT,\n    destination_address TEXT\n)\nRETURNS BOOLEAN\nLANGUAGE plpgsql\nAS $$\nBEGIN\n    -- In production, this would set up actual email forwarding\n    -- For now, we'll just return success\n    RETURN TRUE;\nEND;\n$$","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create function to configure email server\nCREATE OR REPLACE FUNCTION configure_email_server(domain_id UUID)\nRETURNS JSONB\nLANGUAGE plpgsql\nAS $$\nDECLARE\n    domain_rec RECORD;\n    config_result JSONB;\nBEGIN\n    -- Get domain details\n    SELECT * INTO domain_rec\n    FROM email_domains\n    WHERE id = domain_id;\n\n    -- In production, this would:\n    -- 1. Set up email server configuration\n    -- 2. Configure SMTP settings\n    -- 3. Set up authentication\n    -- 4. Configure spam filters\n    -- For now, we'll return a simulated configuration result\n    config_result := jsonb_build_object(\n        'smtp_configured', TRUE,\n        'authentication_configured', TRUE,\n        'spam_filters_configured', TRUE,\n        'server_status', 'active'\n    );\n\n    RETURN config_result;\nEND;\n$$","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)","ParameterOIDs":[25,25,1009]}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":[0,0,1],"Parameters":[{"text":"20240320000004"},{"text":"email_domain_verification"},{"binary":"00000001000000000000001900000006000000010000011d2d2d204372656174652066756e6374696f6e20746f2076616c6964617465204d58207265636f7264730a435245415445204f52205245504c4143452046554e4354494f4e2076616c69646174655f6d785f7265636f726428646f6d61696e5f6e616d6520544558542c2065787065637465645f6d782054455854290a52455455524e5320424f4f4c45414e0a4c414e475541474520706c706773716c0a41532024240a424547494e0a202020202d2d20496e2070726f64756374696f6e2c207468697320776f756c64206d616b65206120444e53206c6f6f6b75700a202020202d2d20466f72206e6f772c207765276c6c2073696d756c6174652074686520636865636b0a2020202052455455524e20545255453b0a454e443b0a24240000012b2d2d204372656174652066756e6374696f6e20746f2076616c696461746520535046207265636f72640a435245415445204f52205245504c4143452046554e4354494f4e2076616c69646174655f7370665f7265636f726428646f6d61696e5f6e616d6520544558542c2065787065637465645f7370662054455854290a52455455524e5320424f4f4c45414e0a4c414e475541474520706c706773716c0a41532024240a424547494e0a202020202d2d20496e2070726f64756374696f6e2c207468697320776f756c64206d616b65206120444e5320545854206c6f6f6b757020666f72205350460a202020202d2d20466f72206e6f772c207765276c6c2073696d756c6174652074686520636865636b0a2020202052455455524e20545255453b0a454e443b0a24240000013b2d2d204372656174652066756e6374696f6e20746f2076616c696461746520444b494d207265636f72640a435245415445204f52205245504c4143452046554e4354494f4e2076616c69646174655f646b696d5f7265636f726428646f6d61696e5f6e616d6520544558542c2073656c6563746f7220544558542c207075626c69635f6b65792054455854290a52455455524e5320424f4f4c45414e0a4c414e475541474520706c706773716c0a41532024240a424547494e0a202020202d2d20496e2070726f64756374696f6e2c207468697320776f756c64206d616b65206120444e5320545854206c6f6f6b757020666f7220444b494d0a202020202d2d20466f72206e6f772c207765276c6c2073696d756c6174652074686520636865636b0a2020202052455455524e20545255453b0a454e443b0a2424000007e92d2d204372656174652066756e6374696f6e20746f20636865636b20616c6c20444e53207265636f7264730a435245415445204f52205245504c4143452046554e4354494f4e20636865636b5f646f6d61696e5f646e735f7265636f72647328646f6d61696e5f69642055554944290a52455455524e53204a534f4e420a4c414e475541474520706c706773716c0a41532024240a4445434c4152450a20202020646f6d61696e5f726563205245434f52443b0a202020206d785f73746174757320424f4f4c45414e3b0a202020207370665f73746174757320424f4f4c45414e3b0a20202020646b696d5f73746174757320424f4f4c45414e3b0a20202020726573756c74204a534f4e423b0a424547494e0a202020202d2d2047657420646f6d61696e2064657461696c730a2020202053454c454354202a20494e544f20646f6d61696e5f7265630a2020202046524f4d20656d61696c5f646f6d61696e730a202020205748455245206964203d20646f6d61696e5f69643b0a0a202020202d2d20436865636b204d58207265636f72640a202020206d785f737461747573203a3d2076616c69646174655f6d785f7265636f7264280a2020202020202020646f6d61696e5f7265632e646f6d61696e5f6e616d652c0a2020202020202020646f6d61696e5f7265632e6d785f7265636f72640a20202020293b0a0a202020202d2d20436865636b20535046207265636f72640a202020207370665f737461747573203a3d2076616c69646174655f7370665f7265636f7264280a2020202020202020646f6d61696e5f7265632e646f6d61696e5f6e616d652c0a2020202020202020646f6d61696e5f7265632e7370665f7265636f72640a20202020293b0a0a202020202d2d20436865636b20444b494d207265636f72640a20202020646b696d5f737461747573203a3d2076616c69646174655f646b696d5f7265636f7264280a2020202020202020646f6d61696e5f7265632e646f6d61696e5f6e616d652c0a2020202020202020646f6d61696e5f7265632e646b696d5f73656c6563746f722c0a2020202020202020646f6d61696e5f7265632e646b696d5f7075626c69635f6b65790a20202020293b0a0a202020202d2d2055706461746520766572696669636174696f6e207265636f7264730a2020202055504441544520656d61696c5f646f6d61696e5f766572696669636174696f6e730a202020205345540a20202020202020207665726966696564203d20434153450a2020202020202020202020205748454e20766572696669636174696f6e5f74797065203d20274d5827205448454e206d785f7374617475730a2020202020202020202020205748454e20766572696669636174696f6e5f74797065203d202753504627205448454e207370665f7374617475730a2020202020202020202020205748454e20766572696669636174696f6e5f74797065203d2027444b494d27205448454e20646b696d5f7374617475730a202020202020202020202020454c53452076657269666965640a2020202020202020454e442c0a202020202020202076657269666965645f6174203d20434153450a2020202020202020202020205748454e20766572696669636174696f6e5f74797065203d20274d582720414e44206d785f737461747573205448454e2043555252454e545f54494d455354414d500a2020202020202020202020205748454e20766572696669636174696f6e5f74797065203d20275350462720414e44207370665f737461747573205448454e2043555252454e545f54494d455354414d500a2020202020202020202020205748454e20766572696669636174696f6e5f74797065203d2027444b494d2720414e4420646b696d5f737461747573205448454e2043555252454e545f54494d455354414d500a202020202020202020202020454c53452076657269666965645f61740a2020202020202020454e440a20202020574845524520656d61696c5f646f6d61696e5f6964203d20646f6d61696e5f69643b0a0a202020202d2d204275696c6420726573756c74204a534f4e0a20202020726573756c74203a3d206a736f6e625f6275696c645f6f626a656374280a2020202020202020276d785f7665726966696564272c206d785f7374617475732c0a2020202020202020277370665f7665726966696564272c207370665f7374617475732c0a202020202020202027646b696d5f7665726966696564272c20646b696d5f7374617475732c0a202020202020202027616c6c5f7665726966696564272c20286d785f73746174757320414e44207370665f73746174757320414e4420646b696d5f737461747573290a20202020293b0a0a202020202d2d2055706461746520646f6d61696e2076657269666965642073746174757320696620616c6c20636865636b7320706173730a20202020494620286d785f73746174757320414e44207370665f73746174757320414e4420646b696d5f73746174757329205448454e0a202020202020202055504441544520656d61696c5f646f6d61696e730a20202020202020205345540a2020202020202020202020207665726966696564203d20545255452c0a202020202020202020202020757064617465645f6174203d2043555252454e545f54494d455354414d500a20202020202020205748455245206964203d20646f6d61696e5f69643b0a20202020454e442049463b0a0a2020202052455455524e20726573756c743b0a454e443b0a24240000016a2d2d204372656174652066756e6374696f6e20746f2067656e657261746520656d61696c20666f7277617264696e672072756c65730a435245415445204f52205245504c4143452046554e4354494f4e206372656174655f656d61696c5f666f7277617264696e675f72756c65280a20202020646f6d61696e5f696420555549442c0a20202020736f757263655f6164647265737320544558542c0a2020202064657374696e6174696f6e5f6164647265737320544558540a290a52455455524e5320424f4f4c45414e0a4c414e475541474520706c706773716c0a41532024240a424547494e0a202020202d2d20496e2070726f64756374696f6e2c207468697320776f756c64207365742075702061637475616c20656d61696c20666f7277617264696e670a202020202d2d20466f72206e6f772c207765276c6c206a7573742072657475726e20737563636573730a2020202052455455524e20545255453b0a454e443b0a2424000003132d2d204372656174652066756e6374696f6e20746f20636f6e66696775726520656d61696c207365727665720a435245415445204f52205245504c4143452046554e4354494f4e20636f6e6669677572655f656d61696c5f73657276657228646f6d61696e5f69642055554944290a52455455524e53204a534f4e420a4c414e475541474520706c706773716c0a41532024240a4445434c4152450a20202020646f6d61696e5f726563205245434f52443b0a20202020636f6e6669675f726573756c74204a534f4e423b0a424547494e0a202020202d2d2047657420646f6d61696e2064657461696c730a2020202053454c454354202a20494e544f20646f6d61696e5f7265630a2020202046524f4d20656d61696c5f646f6d61696e730a202020205748455245206964203d20646f6d61696e5f69643b0a0a202020202d2d20496e2070726f64756374696f6e2c207468697320776f756c643a0a202020202d2d20312e2053657420757020656d61696c2073657276657220636f6e66696775726174696f6e0a202020202d2d20322e20436f6e66696775726520534d54502073657474696e67730a202020202d2d20332e205365742075702061757468656e7469636174696f6e0a202020202d2d20342e20436f6e666967757265207370616d2066696c746572730a202020202d2d20466f72206e6f772c207765276c6c2072657475726e20612073696d756c6174656420636f6e66696775726174696f6e20726573756c740a20202020636f6e6669675f726573756c74203a3d206a736f6e625f6275696c645f6f626a656374280a202020202020202027736d74705f636f6e66696775726564272c20545255452c0a20202020202020202761757468656e7469636174696f6e5f636f6e66696775726564272c20545255452c0a2020202020202020277370616d5f66696c746572735f636f6e66696775726564272c20545255452c0a2020202020202020277365727665725f737461747573272c2027616374697665270a20202020293b0a0a2020202052455455524e20636f6e6669675f726573756c743b0a454e443b0a2424"}],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 1"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Applying migration 20240325000000_add_workspace_additional_tables.sql...
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create workspace_stats table\nCREATE TABLE workspace_stats (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  workspace_id UUID NOT NULL REFERENCES workspaces(id) ON DELETE CASCADE,\n  storage_used BIGINT DEFAULT 0,\n  api_calls_count INTEGER DEFAULT 0,\n  active_users_count INTEGER DEFAULT 0,\n  last_activity_at TIMESTAMPTZ DEFAULT NOW(),\n  created_at TIMESTAMPTZ DEFAULT NOW(),\n  updated_at TIMESTAMPTZ DEFAULT NOW()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create workspace_quotas table\nCREATE TABLE workspace_quotas (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  workspace_id UUID NOT NULL REFERENCES workspaces(id) ON DELETE CASCADE,\n  max_storage_gb INTEGER DEFAULT 5,\n  max_members INTEGER DEFAULT 5,\n  max_api_calls INTEGER DEFAULT 1000,\n  quota_reset_at TIMESTAMPTZ,\n  created_at TIMESTAMPTZ DEFAULT NOW(),\n  updated_at TIMESTAMPTZ DEFAULT NOW()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create workspace_audit_logs table\nCREATE TABLE workspace_audit_logs (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  workspace_id UUID NOT NULL REFERENCES workspaces(id) ON DELETE CASCADE,\n  user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,\n  action VARCHAR(255) NOT NULL,\n  resource_type VARCHAR(255),\n  resource_id UUID,\n  metadata JSONB,\n  created_at TIMESTAMPTZ DEFAULT NOW()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create workspace_backups table\nCREATE TABLE workspace_backups (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  workspace_id UUID NOT NULL REFERENCES workspaces(id) ON DELETE CASCADE,\n  backup_path TEXT NOT NULL,\n  size_bytes BIGINT,\n  status VARCHAR(50) DEFAULT 'pending',\n  started_at TIMESTAMPTZ DEFAULT NOW(),\n  completed_at TIMESTAMPTZ,\n  created_at TIMESTAMPTZ DEFAULT NOW(),\n  updated_at TIMESTAMPTZ DEFAULT NOW()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create workspace_templates table\nCREATE TABLE workspace_templates (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  workspace_id UUID NOT NULL REFERENCES workspaces(id) ON DELETE CASCADE,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  content JSONB NOT NULL,\n  is_public BOOLEAN DEFAULT false,\n  category VARCHAR(100),\n  created_by UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,\n  created_at TIMESTAMPTZ DEFAULT NOW(),\n  updated_at TIMESTAMPTZ DEFAULT NOW()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create workspace_settings table\nCREATE TABLE workspace_settings (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  workspace_id UUID NOT NULL REFERENCES workspaces(id) ON DELETE CASCADE,\n  theme VARCHAR(50) DEFAULT 'light',\n  notifications_enabled BOOLEAN DEFAULT true,\n  default_language VARCHAR(10) DEFAULT 'en',\n  custom_domain TEXT,\n  features JSONB DEFAULT '{}',\n  created_at TIMESTAMPTZ DEFAULT NOW(),\n  updated_at TIMESTAMPTZ DEFAULT NOW(),\n  UNIQUE(workspace_id)\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create workspace_invoices table\nCREATE TABLE workspace_invoices (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  workspace_id UUID NOT NULL REFERENCES workspaces(id) ON DELETE CASCADE,\n  amount_cents INTEGER NOT NULL,\n  currency VARCHAR(3) DEFAULT 'USD',\n  status VARCHAR(50) DEFAULT 'pending',\n  billing_period_start TIMESTAMPTZ,\n  billing_period_end TIMESTAMPTZ,\n  paid_at TIMESTAMPTZ,\n  invoice_url TEXT,\n  created_at TIMESTAMPTZ DEFAULT NOW(),\n  updated_at TIMESTAMPTZ DEFAULT NOW()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Add RLS policies\nALTER TABLE workspace_stats ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE workspace_quotas ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE workspace_audit_logs ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE workspace_backups ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE workspace_templates ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE workspace_settings ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE workspace_invoices ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Stats policies\nCREATE POLICY \"select_workspace_stats_policy\"\n  ON workspace_stats FOR SELECT\n  USING (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = workspace_stats.workspace_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Quotas policies\nCREATE POLICY \"select_workspace_quotas_policy\"\n  ON workspace_quotas FOR SELECT\n  USING (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = workspace_quotas.workspace_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Audit logs policies\nCREATE POLICY \"select_workspace_audit_logs_policy\"\n  ON workspace_audit_logs FOR SELECT\n  USING (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = workspace_audit_logs.workspace_id\n    AND members.user_id = auth.uid()\n    AND members.role IN ('owner', 'admin')\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Backups policies\nCREATE POLICY \"all_workspace_backups_policy\"\n  ON workspace_backups FOR ALL\n  USING (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = workspace_backups.workspace_id\n    AND members.user_id = auth.uid()\n    AND members.role IN ('owner', 'admin')\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Templates policies\nCREATE POLICY \"select_public_workspace_templates_policy\"\n  ON workspace_templates FOR SELECT\n  USING (is_public = true)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"select_workspace_templates_policy\"\n  ON workspace_templates FOR SELECT\n  USING (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = workspace_templates.workspace_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"all_workspace_templates_policy\"\n  ON workspace_templates FOR ALL\n  USING (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = workspace_templates.workspace_id\n    AND members.user_id = auth.uid()\n    AND members.role IN ('owner', 'admin')\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Settings policies\nCREATE POLICY \"select_workspace_settings_policy\"\n  ON workspace_settings FOR SELECT\n  USING (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = workspace_settings.workspace_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"all_workspace_settings_policy\"\n  ON workspace_settings FOR ALL\n  USING (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = workspace_settings.workspace_id\n    AND members.user_id = auth.uid()\n    AND members.role IN ('owner', 'admin')\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Invoices policies\nCREATE POLICY \"select_workspace_invoices_policy\"\n  ON workspace_invoices FOR SELECT\n  USING (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = workspace_invoices.workspace_id\n    AND members.user_id = auth.uid()\n    AND members.role IN ('owner', 'admin')\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)","ParameterOIDs":[25,25,1009]}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":[0,0,1],"Parameters":[{"text":"20240325000000"},{"text":"add_workspace_additional_tables"},{"binary":"0000000100000000000000190000001800000001000001a72d2d2043726561746520776f726b73706163655f7374617473207461626c650a435245415445205441424c4520776f726b73706163655f737461747320280a202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a2020776f726b73706163655f69642055554944204e4f54204e554c4c205245464552454e43455320776f726b73706163657328696429204f4e2044454c45544520434153434144452c0a202073746f726167655f7573656420424947494e542044454641554c5420302c0a20206170695f63616c6c735f636f756e7420494e54454745522044454641554c5420302c0a20206163746976655f75736572735f636f756e7420494e54454745522044454641554c5420302c0a20206c6173745f61637469766974795f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020637265617465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020757064617465645f61742054494d455354414d50545a2044454641554c54204e4f5728290a29000001962d2d2043726561746520776f726b73706163655f71756f746173207461626c650a435245415445205441424c4520776f726b73706163655f71756f74617320280a202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a2020776f726b73706163655f69642055554944204e4f54204e554c4c205245464552454e43455320776f726b73706163657328696429204f4e2044454c45544520434153434144452c0a20206d61785f73746f726167655f676220494e54454745522044454641554c5420352c0a20206d61785f6d656d6265727320494e54454745522044454641554c5420352c0a20206d61785f6170695f63616c6c7320494e54454745522044454641554c5420313030302c0a202071756f74615f72657365745f61742054494d455354414d50545a2c0a2020637265617465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020757064617465645f61742054494d455354414d50545a2044454641554c54204e4f5728290a29000001962d2d2043726561746520776f726b73706163655f61756469745f6c6f6773207461626c650a435245415445205441424c4520776f726b73706163655f61756469745f6c6f677320280a202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a2020776f726b73706163655f69642055554944204e4f54204e554c4c205245464552454e43455320776f726b73706163657328696429204f4e2044454c45544520434153434144452c0a2020757365725f69642055554944204e4f54204e554c4c205245464552454e43455320617574682e757365727328696429204f4e2044454c45544520434153434144452c0a2020616374696f6e20564152434841522832353529204e4f54204e554c4c2c0a20207265736f757263655f74797065205641524348415228323535292c0a20207265736f757263655f696420555549442c0a20206d65746164617461204a534f4e422c0a2020637265617465645f61742054494d455354414d50545a2044454641554c54204e4f5728290a29000001ad2d2d2043726561746520776f726b73706163655f6261636b757073207461626c650a435245415445205441424c4520776f726b73706163655f6261636b75707320280a202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a2020776f726b73706163655f69642055554944204e4f54204e554c4c205245464552454e43455320776f726b73706163657328696429204f4e2044454c45544520434153434144452c0a20206261636b75705f706174682054455854204e4f54204e554c4c2c0a202073697a655f627974657320424947494e542c0a20207374617475732056415243484152283530292044454641554c54202770656e64696e67272c0a2020737461727465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020636f6d706c657465645f61742054494d455354414d50545a2c0a2020637265617465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020757064617465645f61742054494d455354414d50545a2044454641554c54204e4f5728290a29000001e32d2d2043726561746520776f726b73706163655f74656d706c61746573207461626c650a435245415445205441424c4520776f726b73706163655f74656d706c6174657320280a202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a2020776f726b73706163655f69642055554944204e4f54204e554c4c205245464552454e43455320776f726b73706163657328696429204f4e2044454c45544520434153434144452c0a20206e616d6520564152434841522832353529204e4f54204e554c4c2c0a20206465736372697074696f6e20544558542c0a2020636f6e74656e74204a534f4e42204e4f54204e554c4c2c0a202069735f7075626c696320424f4f4c45414e2044454641554c542066616c73652c0a202063617465676f7279205641524348415228313030292c0a2020637265617465645f62792055554944204e4f54204e554c4c205245464552454e43455320617574682e757365727328696429204f4e2044454c45544520434153434144452c0a2020637265617465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020757064617465645f61742054494d455354414d50545a2044454641554c54204e4f5728290a29000001de2d2d2043726561746520776f726b73706163655f73657474696e6773207461626c650a435245415445205441424c4520776f726b73706163655f73657474696e677320280a202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a2020776f726b73706163655f69642055554944204e4f54204e554c4c205245464552454e43455320776f726b73706163657328696429204f4e2044454c45544520434153434144452c0a20207468656d652056415243484152283530292044454641554c5420276c69676874272c0a20206e6f74696669636174696f6e735f656e61626c656420424f4f4c45414e2044454641554c5420747275652c0a202064656661756c745f6c616e67756167652056415243484152283130292044454641554c542027656e272c0a2020637573746f6d5f646f6d61696e20544558542c0a20206665617475726573204a534f4e422044454641554c5420277b7d272c0a2020637265617465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020757064617465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020554e4951554528776f726b73706163655f6964290a29000001f02d2d2043726561746520776f726b73706163655f696e766f69636573207461626c650a435245415445205441424c4520776f726b73706163655f696e766f6963657320280a202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a2020776f726b73706163655f69642055554944204e4f54204e554c4c205245464552454e43455320776f726b73706163657328696429204f4e2044454c45544520434153434144452c0a2020616d6f756e745f63656e747320494e5445474552204e4f54204e554c4c2c0a202063757272656e637920564152434841522833292044454641554c542027555344272c0a20207374617475732056415243484152283530292044454641554c54202770656e64696e67272c0a202062696c6c696e675f706572696f645f73746172742054494d455354414d50545a2c0a202062696c6c696e675f706572696f645f656e642054494d455354414d50545a2c0a2020706169645f61742054494d455354414d50545a2c0a2020696e766f6963655f75726c20544558542c0a2020637265617465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020757064617465645f61742054494d455354414d50545a2044454641554c54204e4f5728290a29000000492d2d2041646420524c5320706f6c69636965730a414c544552205441424c4520776f726b73706163655f737461747320454e41424c4520524f57204c4556454c20534543555249545900000036414c544552205441424c4520776f726b73706163655f71756f74617320454e41424c4520524f57204c4556454c2053454355524954590000003a414c544552205441424c4520776f726b73706163655f61756469745f6c6f677320454e41424c4520524f57204c4556454c20534543555249545900000037414c544552205441424c4520776f726b73706163655f6261636b75707320454e41424c4520524f57204c4556454c20534543555249545900000039414c544552205441424c4520776f726b73706163655f74656d706c6174657320454e41424c4520524f57204c4556454c20534543555249545900000038414c544552205441424c4520776f726b73706163655f73657474696e677320454e41424c4520524f57204c4556454c20534543555249545900000038414c544552205441424c4520776f726b73706163655f696e766f6963657320454e41424c4520524f57204c4556454c205345435552495459000000f32d2d20537461747320706f6c69636965730a43524541544520504f4c494359202273656c6563745f776f726b73706163655f73746174735f706f6c696379220a20204f4e20776f726b73706163655f737461747320464f522053454c4543540a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d20776f726b73706163655f73746174732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a20202929000000f72d2d2051756f74617320706f6c69636965730a43524541544520504f4c494359202273656c6563745f776f726b73706163655f71756f7461735f706f6c696379220a20204f4e20776f726b73706163655f71756f74617320464f522053454c4543540a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d20776f726b73706163655f71756f7461732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a20202929000001322d2d204175646974206c6f677320706f6c69636965730a43524541544520504f4c494359202273656c6563745f776f726b73706163655f61756469745f6c6f67735f706f6c696379220a20204f4e20776f726b73706163655f61756469745f6c6f677320464f522053454c4543540a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d20776f726b73706163655f61756469745f6c6f67732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a20202020414e44206d656d626572732e726f6c6520494e2028276f776e6572272c202761646d696e27290a20202929000001202d2d204261636b75707320706f6c69636965730a43524541544520504f4c4943592022616c6c5f776f726b73706163655f6261636b7570735f706f6c696379220a20204f4e20776f726b73706163655f6261636b75707320464f5220414c4c0a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d20776f726b73706163655f6261636b7570732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a20202020414e44206d656d626572732e726f6c6520494e2028276f776e6572272c202761646d696e27290a202029290000008d2d2d2054656d706c6174657320706f6c69636965730a43524541544520504f4c494359202273656c6563745f7075626c69635f776f726b73706163655f74656d706c617465735f706f6c696379220a20204f4e20776f726b73706163655f74656d706c6174657320464f522053454c4543540a20205553494e47202869735f7075626c6963203d207472756529000000ed43524541544520504f4c494359202273656c6563745f776f726b73706163655f74656d706c617465735f706f6c696379220a20204f4e20776f726b73706163655f74656d706c6174657320464f522053454c4543540a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d20776f726b73706163655f74656d706c617465732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a202029290000011243524541544520504f4c4943592022616c6c5f776f726b73706163655f74656d706c617465735f706f6c696379220a20204f4e20776f726b73706163655f74656d706c6174657320464f5220414c4c0a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d20776f726b73706163655f74656d706c617465732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a20202020414e44206d656d626572732e726f6c6520494e2028276f776e6572272c202761646d696e27290a20202929000000ff2d2d2053657474696e677320706f6c69636965730a43524541544520504f4c494359202273656c6563745f776f726b73706163655f73657474696e67735f706f6c696379220a20204f4e20776f726b73706163655f73657474696e677320464f522053454c4543540a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d20776f726b73706163655f73657474696e67732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a202029290000010f43524541544520504f4c4943592022616c6c5f776f726b73706163655f73657474696e67735f706f6c696379220a20204f4e20776f726b73706163655f73657474696e677320464f5220414c4c0a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d20776f726b73706163655f73657474696e67732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a20202020414e44206d656d626572732e726f6c6520494e2028276f776e6572272c202761646d696e27290a202029290000012a2d2d20496e766f6963657320706f6c69636965730a43524541544520504f4c494359202273656c6563745f776f726b73706163655f696e766f696365735f706f6c696379220a20204f4e20776f726b73706163655f696e766f6963657320464f522053454c4543540a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d20776f726b73706163655f696e766f696365732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a20202020414e44206d656d626572732e726f6c6520494e2028276f776e6572272c202761646d696e27290a20202929"}],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 1"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Applying migration 20240325000001_add_team_collaboration_tables.sql...
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create team_groups table\nCREATE TABLE team_groups (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  workspace_id UUID NOT NULL REFERENCES workspaces(id) ON DELETE CASCADE,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  created_by UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,\n  created_at TIMESTAMPTZ DEFAULT NOW(),\n  updated_at TIMESTAMPTZ DEFAULT NOW()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create team_group_members table\nCREATE TABLE team_group_members (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  group_id UUID NOT NULL REFERENCES team_groups(id) ON DELETE CASCADE,\n  user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,\n  role VARCHAR(50) DEFAULT 'member',\n  created_at TIMESTAMPTZ DEFAULT NOW(),\n  updated_at TIMESTAMPTZ DEFAULT NOW(),\n  UNIQUE(group_id, user_id)\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create team_discussions table\nCREATE TABLE team_discussions (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  workspace_id UUID NOT NULL REFERENCES workspaces(id) ON DELETE CASCADE,\n  group_id UUID REFERENCES team_groups(id) ON DELETE SET NULL,\n  title VARCHAR(255) NOT NULL,\n  content TEXT NOT NULL,\n  is_pinned BOOLEAN DEFAULT false,\n  created_by UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,\n  created_at TIMESTAMPTZ DEFAULT NOW(),\n  updated_at TIMESTAMPTZ DEFAULT NOW()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create discussion_comments table\nCREATE TABLE discussion_comments (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  discussion_id UUID NOT NULL REFERENCES team_discussions(id) ON DELETE CASCADE,\n  content TEXT NOT NULL,\n  created_by UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,\n  parent_comment_id UUID REFERENCES discussion_comments(id) ON DELETE CASCADE,\n  created_at TIMESTAMPTZ DEFAULT NOW(),\n  updated_at TIMESTAMPTZ DEFAULT NOW()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create team_tasks table\nCREATE TABLE team_tasks (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  workspace_id UUID NOT NULL REFERENCES workspaces(id) ON DELETE CASCADE,\n  group_id UUID REFERENCES team_groups(id) ON DELETE SET NULL,\n  title VARCHAR(255) NOT NULL,\n  description TEXT,\n  status VARCHAR(50) DEFAULT 'pending',\n  priority VARCHAR(50) DEFAULT 'medium',\n  due_date TIMESTAMPTZ,\n  assigned_to UUID REFERENCES auth.users(id) ON DELETE SET NULL,\n  created_by UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,\n  created_at TIMESTAMPTZ DEFAULT NOW(),\n  updated_at TIMESTAMPTZ DEFAULT NOW()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create task_comments table\nCREATE TABLE task_comments (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  task_id UUID NOT NULL REFERENCES team_tasks(id) ON DELETE CASCADE,\n  content TEXT NOT NULL,\n  created_by UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,\n  created_at TIMESTAMPTZ DEFAULT NOW(),\n  updated_at TIMESTAMPTZ DEFAULT NOW()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create team_documents table\nCREATE TABLE team_documents (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  workspace_id UUID NOT NULL REFERENCES workspaces(id) ON DELETE CASCADE,\n  group_id UUID REFERENCES team_groups(id) ON DELETE SET NULL,\n  title VARCHAR(255) NOT NULL,\n  content TEXT NOT NULL,\n  is_template BOOLEAN DEFAULT false,\n  created_by UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,\n  created_at TIMESTAMPTZ DEFAULT NOW(),\n  updated_at TIMESTAMPTZ DEFAULT NOW()\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Create document_versions table\nCREATE TABLE document_versions (\n  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n  document_id UUID NOT NULL REFERENCES team_documents(id) ON DELETE CASCADE,\n  content TEXT NOT NULL,\n  version_number INTEGER NOT NULL,\n  created_by UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,\n  created_at TIMESTAMPTZ DEFAULT NOW(),\n  UNIQUE(document_id, version_number)\n)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Enable RLS\nALTER TABLE team_groups ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE team_group_members ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE team_discussions ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE discussion_comments ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE team_tasks ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE task_comments ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE team_documents ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE document_versions ENABLE ROW LEVEL SECURITY","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Team Groups Policies\nCREATE POLICY \"select_team_groups_policy\"\n  ON team_groups FOR SELECT\n  USING (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = team_groups.workspace_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"all_team_groups_policy\"\n  ON team_groups FOR ALL\n  USING (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = team_groups.workspace_id\n    AND members.user_id = auth.uid()\n    AND members.role IN ('owner', 'admin')\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Group Members Policies\nCREATE POLICY \"select_team_group_members_policy\"\n  ON team_group_members FOR SELECT\n  USING (EXISTS (\n    SELECT 1 FROM team_groups\n    JOIN members ON members.workspace_id = team_groups.workspace_id\n    WHERE team_groups.id = team_group_members.group_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"all_team_group_members_policy\"\n  ON team_group_members FOR ALL\n  USING (EXISTS (\n    SELECT 1 FROM team_groups\n    JOIN members ON members.workspace_id = team_groups.workspace_id\n    WHERE team_groups.id = team_group_members.group_id\n    AND members.user_id = auth.uid()\n    AND members.role IN ('owner', 'admin')\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Discussions Policies\nCREATE POLICY \"select_team_discussions_policy\"\n  ON team_discussions FOR SELECT\n  USING (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = team_discussions.workspace_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"insert_team_discussions_policy\"\n  ON team_discussions FOR INSERT\n  WITH CHECK (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = team_discussions.workspace_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"update_team_discussions_policy\"\n  ON team_discussions FOR UPDATE\n  USING (\n    created_by = auth.uid() OR\n    EXISTS (\n      SELECT 1 FROM members\n      WHERE members.workspace_id = team_discussions.workspace_id\n      AND members.user_id = auth.uid()\n      AND members.role IN ('owner', 'admin')\n    )\n  )","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Comments Policies\nCREATE POLICY \"select_discussion_comments_policy\"\n  ON discussion_comments FOR SELECT\n  USING (EXISTS (\n    SELECT 1 FROM team_discussions\n    JOIN members ON members.workspace_id = team_discussions.workspace_id\n    WHERE team_discussions.id = discussion_comments.discussion_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"insert_discussion_comments_policy\"\n  ON discussion_comments FOR INSERT\n  WITH CHECK (EXISTS (\n    SELECT 1 FROM team_discussions\n    JOIN members ON members.workspace_id = team_discussions.workspace_id\n    WHERE team_discussions.id = discussion_comments.discussion_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Tasks Policies\nCREATE POLICY \"select_team_tasks_policy\"\n  ON team_tasks FOR SELECT\n  USING (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = team_tasks.workspace_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"insert_team_tasks_policy\"\n  ON team_tasks FOR INSERT\n  WITH CHECK (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = team_tasks.workspace_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"update_team_tasks_policy\"\n  ON team_tasks FOR UPDATE\n  USING (\n    created_by = auth.uid() OR\n    assigned_to = auth.uid() OR\n    EXISTS (\n      SELECT 1 FROM members\n      WHERE members.workspace_id = team_tasks.workspace_id\n      AND members.user_id = auth.uid()\n      AND members.role IN ('owner', 'admin')\n    )\n  )","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Task Comments Policies\nCREATE POLICY \"select_task_comments_policy\"\n  ON task_comments FOR SELECT\n  USING (EXISTS (\n    SELECT 1 FROM team_tasks\n    JOIN members ON members.workspace_id = team_tasks.workspace_id\n    WHERE team_tasks.id = task_comments.task_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"insert_task_comments_policy\"\n  ON task_comments FOR INSERT\n  WITH CHECK (EXISTS (\n    SELECT 1 FROM team_tasks\n    JOIN members ON members.workspace_id = team_tasks.workspace_id\n    WHERE team_tasks.id = task_comments.task_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Documents Policies\nCREATE POLICY \"select_team_documents_policy\"\n  ON team_documents FOR SELECT\n  USING (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = team_documents.workspace_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"insert_team_documents_policy\"\n  ON team_documents FOR INSERT\n  WITH CHECK (EXISTS (\n    SELECT 1 FROM members\n    WHERE members.workspace_id = team_documents.workspace_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"update_team_documents_policy\"\n  ON team_documents FOR UPDATE\n  USING (\n    created_by = auth.uid() OR\n    EXISTS (\n      SELECT 1 FROM members\n      WHERE members.workspace_id = team_documents.workspace_id\n      AND members.user_id = auth.uid()\n      AND members.role IN ('owner', 'admin')\n    )\n  )","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"-- Document Versions Policies\nCREATE POLICY \"select_document_versions_policy\"\n  ON document_versions FOR SELECT\n  USING (EXISTS (\n    SELECT 1 FROM team_documents\n    JOIN members ON members.workspace_id = team_documents.workspace_id\n    WHERE team_documents.id = document_versions.document_id\n    AND members.user_id = auth.uid()\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE POLICY \"insert_document_versions_policy\"\n  ON document_versions FOR INSERT\n  WITH CHECK (EXISTS (\n    SELECT 1 FROM team_documents\n    JOIN members ON members.workspace_id = team_documents.workspace_id\n    WHERE team_documents.id = document_versions.document_id\n    AND (\n      team_documents.created_by = auth.uid() OR\n      members.role IN ('owner', 'admin')\n    )\n  ))","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)","ParameterOIDs":[25,25,1009]}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":[0,0,1],"Parameters":[{"text":"20240325000001"},{"text":"add_team_collaboration_tables"},{"binary":"00000001000000000000001900000023000000010000017d2d2d20437265617465207465616d5f67726f757073207461626c650a435245415445205441424c45207465616d5f67726f75707320280a202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a2020776f726b73706163655f69642055554944204e4f54204e554c4c205245464552454e43455320776f726b73706163657328696429204f4e2044454c45544520434153434144452c0a20206e616d6520564152434841522832353529204e4f54204e554c4c2c0a20206465736372697074696f6e20544558542c0a2020637265617465645f62792055554944204e4f54204e554c4c205245464552454e43455320617574682e757365727328696429204f4e2044454c45544520434153434144452c0a2020637265617465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020757064617465645f61742054494d455354414d50545a2044454641554c54204e4f5728290a29000001952d2d20437265617465207465616d5f67726f75705f6d656d62657273207461626c650a435245415445205441424c45207465616d5f67726f75705f6d656d6265727320280a202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a202067726f75705f69642055554944204e4f54204e554c4c205245464552454e434553207465616d5f67726f75707328696429204f4e2044454c45544520434153434144452c0a2020757365725f69642055554944204e4f54204e554c4c205245464552454e43455320617574682e757365727328696429204f4e2044454c45544520434153434144452c0a2020726f6c652056415243484152283530292044454641554c5420276d656d626572272c0a2020637265617465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020757064617465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020554e495155452867726f75705f69642c20757365725f6964290a29000001ef2d2d20437265617465207465616d5f64697363757373696f6e73207461626c650a435245415445205441424c45207465616d5f64697363757373696f6e7320280a202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a2020776f726b73706163655f69642055554944204e4f54204e554c4c205245464552454e43455320776f726b73706163657328696429204f4e2044454c45544520434153434144452c0a202067726f75705f69642055554944205245464552454e434553207465616d5f67726f75707328696429204f4e2044454c45544520534554204e554c4c2c0a20207469746c6520564152434841522832353529204e4f54204e554c4c2c0a2020636f6e74656e742054455854204e4f54204e554c4c2c0a202069735f70696e6e656420424f4f4c45414e2044454641554c542066616c73652c0a2020637265617465645f62792055554944204e4f54204e554c4c205245464552454e43455320617574682e757365727328696429204f4e2044454c45544520434153434144452c0a2020637265617465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020757064617465645f61742054494d455354414d50545a2044454641554c54204e4f5728290a29000001ca2d2d204372656174652064697363757373696f6e5f636f6d6d656e7473207461626c650a435245415445205441424c452064697363757373696f6e5f636f6d6d656e747320280a202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a202064697363757373696f6e5f69642055554944204e4f54204e554c4c205245464552454e434553207465616d5f64697363757373696f6e7328696429204f4e2044454c45544520434153434144452c0a2020636f6e74656e742054455854204e4f54204e554c4c2c0a2020637265617465645f62792055554944204e4f54204e554c4c205245464552454e43455320617574682e757365727328696429204f4e2044454c45544520434153434144452c0a2020706172656e745f636f6d6d656e745f69642055554944205245464552454e4345532064697363757373696f6e5f636f6d6d656e747328696429204f4e2044454c45544520434153434144452c0a2020637265617465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020757064617465645f61742054494d455354414d50545a2044454641554c54204e4f5728290a29000002652d2d20437265617465207465616d5f7461736b73207461626c650a435245415445205441424c45207465616d5f7461736b7320280a202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a2020776f726b73706163655f69642055554944204e4f54204e554c4c205245464552454e43455320776f726b73706163657328696429204f4e2044454c45544520434153434144452c0a202067726f75705f69642055554944205245464552454e434553207465616d5f67726f75707328696429204f4e2044454c45544520534554204e554c4c2c0a20207469746c6520564152434841522832353529204e4f54204e554c4c2c0a20206465736372697074696f6e20544558542c0a20207374617475732056415243484152283530292044454641554c54202770656e64696e67272c0a20207072696f726974792056415243484152283530292044454641554c5420276d656469756d272c0a20206475655f646174652054494d455354414d50545a2c0a202061737369676e65645f746f2055554944205245464552454e43455320617574682e757365727328696429204f4e2044454c45544520534554204e554c4c2c0a2020637265617465645f62792055554944204e4f54204e554c4c205245464552454e43455320617574682e757365727328696429204f4e2044454c45544520434153434144452c0a2020637265617465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020757064617465645f61742054494d455354414d50545a2044454641554c54204e4f5728290a29000001632d2d20437265617465207461736b5f636f6d6d656e7473207461626c650a435245415445205441424c45207461736b5f636f6d6d656e747320280a202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a20207461736b5f69642055554944204e4f54204e554c4c205245464552454e434553207465616d5f7461736b7328696429204f4e2044454c45544520434153434144452c0a2020636f6e74656e742054455854204e4f54204e554c4c2c0a2020637265617465645f62792055554944204e4f54204e554c4c205245464552454e43455320617574682e757365727328696429204f4e2044454c45544520434153434144452c0a2020637265617465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020757064617465645f61742054494d455354414d50545a2044454641554c54204e4f5728290a29000001ed2d2d20437265617465207465616d5f646f63756d656e7473207461626c650a435245415445205441424c45207465616d5f646f63756d656e747320280a202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a2020776f726b73706163655f69642055554944204e4f54204e554c4c205245464552454e43455320776f726b73706163657328696429204f4e2044454c45544520434153434144452c0a202067726f75705f69642055554944205245464552454e434553207465616d5f67726f75707328696429204f4e2044454c45544520534554204e554c4c2c0a20207469746c6520564152434841522832353529204e4f54204e554c4c2c0a2020636f6e74656e742054455854204e4f54204e554c4c2c0a202069735f74656d706c61746520424f4f4c45414e2044454641554c542066616c73652c0a2020637265617465645f62792055554944204e4f54204e554c4c205245464552454e43455320617574682e757365727328696429204f4e2044454c45544520434153434144452c0a2020637265617465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020757064617465645f61742054494d455354414d50545a2044454641554c54204e4f5728290a29000001952d2d2043726561746520646f63756d656e745f76657273696f6e73207461626c650a435245415445205441424c4520646f63756d656e745f76657273696f6e7320280a202069642055554944205052494d415259204b45592044454641554c5420757569645f67656e65726174655f763428292c0a2020646f63756d656e745f69642055554944204e4f54204e554c4c205245464552454e434553207465616d5f646f63756d656e747328696429204f4e2044454c45544520434153434144452c0a2020636f6e74656e742054455854204e4f54204e554c4c2c0a202076657273696f6e5f6e756d62657220494e5445474552204e4f54204e554c4c2c0a2020637265617465645f62792055554944204e4f54204e554c4c205245464552454e43455320617574682e757365727328696429204f4e2044454c45544520434153434144452c0a2020637265617465645f61742054494d455354414d50545a2044454641554c54204e4f5728292c0a2020554e4951554528646f63756d656e745f69642c2076657273696f6e5f6e756d626572290a290000003f2d2d20456e61626c6520524c530a414c544552205441424c45207465616d5f67726f75707320454e41424c4520524f57204c4556454c20534543555249545900000038414c544552205441424c45207465616d5f67726f75705f6d656d6265727320454e41424c4520524f57204c4556454c20534543555249545900000036414c544552205441424c45207465616d5f64697363757373696f6e7320454e41424c4520524f57204c4556454c20534543555249545900000039414c544552205441424c452064697363757373696f6e5f636f6d6d656e747320454e41424c4520524f57204c4556454c20534543555249545900000030414c544552205441424c45207465616d5f7461736b7320454e41424c4520524f57204c4556454c20534543555249545900000033414c544552205441424c45207461736b5f636f6d6d656e747320454e41424c4520524f57204c4556454c20534543555249545900000034414c544552205441424c45207465616d5f646f63756d656e747320454e41424c4520524f57204c4556454c20534543555249545900000037414c544552205441424c4520646f63756d656e745f76657273696f6e7320454e41424c4520524f57204c4556454c205345435552495459000000ed2d2d205465616d2047726f75707320506f6c69636965730a43524541544520504f4c494359202273656c6563745f7465616d5f67726f7570735f706f6c696379220a20204f4e207465616d5f67726f75707320464f522053454c4543540a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d207465616d5f67726f7570732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a20202929000000fa43524541544520504f4c4943592022616c6c5f7465616d5f67726f7570735f706f6c696379220a20204f4e207465616d5f67726f75707320464f5220414c4c0a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d207465616d5f67726f7570732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a20202020414e44206d656d626572732e726f6c6520494e2028276f776e6572272c202761646d696e27290a20202929000001422d2d2047726f7570204d656d6265727320506f6c69636965730a43524541544520504f4c494359202273656c6563745f7465616d5f67726f75705f6d656d626572735f706f6c696379220a20204f4e207465616d5f67726f75705f6d656d6265727320464f522053454c4543540a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d207465616d5f67726f7570730a202020204a4f494e206d656d62657273204f4e206d656d626572732e776f726b73706163655f6964203d207465616d5f67726f7570732e776f726b73706163655f69640a202020205748455245207465616d5f67726f7570732e6964203d207465616d5f67726f75705f6d656d626572732e67726f75705f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a202029290000014d43524541544520504f4c4943592022616c6c5f7465616d5f67726f75705f6d656d626572735f706f6c696379220a20204f4e207465616d5f67726f75705f6d656d6265727320464f5220414c4c0a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d207465616d5f67726f7570730a202020204a4f494e206d656d62657273204f4e206d656d626572732e776f726b73706163655f6964203d207465616d5f67726f7570732e776f726b73706163655f69640a202020205748455245207465616d5f67726f7570732e6964203d207465616d5f67726f75705f6d656d626572732e67726f75705f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a20202020414e44206d656d626572732e726f6c6520494e2028276f776e6572272c202761646d696e27290a20202929000000fc2d2d2044697363757373696f6e7320506f6c69636965730a43524541544520504f4c494359202273656c6563745f7465616d5f64697363757373696f6e735f706f6c696379220a20204f4e207465616d5f64697363757373696f6e7320464f522053454c4543540a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d207465616d5f64697363757373696f6e732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a20202929000000e943524541544520504f4c4943592022696e736572745f7465616d5f64697363757373696f6e735f706f6c696379220a20204f4e207465616d5f64697363757373696f6e7320464f5220494e534552540a20205749544820434845434b202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d207465616d5f64697363757373696f6e732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a202029290000014043524541544520504f4c49435920227570646174655f7465616d5f64697363757373696f6e735f706f6c696379220a20204f4e207465616d5f64697363757373696f6e7320464f52205550444154450a20205553494e4720280a20202020637265617465645f6279203d20617574682e7569642829204f520a2020202045584953545320280a20202020202053454c45435420312046524f4d206d656d626572730a2020202020205748455245206d656d626572732e776f726b73706163655f6964203d207465616d5f64697363757373696f6e732e776f726b73706163655f69640a202020202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a202020202020414e44206d656d626572732e726f6c6520494e2028276f776e6572272c202761646d696e27290a20202020290a202029000001542d2d20436f6d6d656e747320506f6c69636965730a43524541544520504f4c494359202273656c6563745f64697363757373696f6e5f636f6d6d656e74735f706f6c696379220a20204f4e2064697363757373696f6e5f636f6d6d656e747320464f522053454c4543540a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d207465616d5f64697363757373696f6e730a202020204a4f494e206d656d62657273204f4e206d656d626572732e776f726b73706163655f6964203d207465616d5f64697363757373696f6e732e776f726b73706163655f69640a202020205748455245207465616d5f64697363757373696f6e732e6964203d2064697363757373696f6e5f636f6d6d656e74732e64697363757373696f6e5f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a202029290000014443524541544520504f4c4943592022696e736572745f64697363757373696f6e5f636f6d6d656e74735f706f6c696379220a20204f4e2064697363757373696f6e5f636f6d6d656e747320464f5220494e534552540a20205749544820434845434b202845584953545320280a2020202053454c45435420312046524f4d207465616d5f64697363757373696f6e730a202020204a4f494e206d656d62657273204f4e206d656d626572732e776f726b73706163655f6964203d207465616d5f64697363757373696f6e732e776f726b73706163655f69640a202020205748455245207465616d5f64697363757373696f6e732e6964203d2064697363757373696f6e5f636f6d6d656e74732e64697363757373696f6e5f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a20202929000000e42d2d205461736b7320506f6c69636965730a43524541544520504f4c494359202273656c6563745f7465616d5f7461736b735f706f6c696379220a20204f4e207465616d5f7461736b7320464f522053454c4543540a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d207465616d5f7461736b732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a20202929000000d743524541544520504f4c4943592022696e736572745f7465616d5f7461736b735f706f6c696379220a20204f4e207465616d5f7461736b7320464f5220494e534552540a20205749544820434845434b202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d207465616d5f7461736b732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a202029290000014e43524541544520504f4c49435920227570646174655f7465616d5f7461736b735f706f6c696379220a20204f4e207465616d5f7461736b7320464f52205550444154450a20205553494e4720280a20202020637265617465645f6279203d20617574682e7569642829204f520a2020202061737369676e65645f746f203d20617574682e7569642829204f520a2020202045584953545320280a20202020202053454c45435420312046524f4d206d656d626572730a2020202020205748455245206d656d626572732e776f726b73706163655f6964203d207465616d5f7461736b732e776f726b73706163655f69640a202020202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a202020202020414e44206d656d626572732e726f6c6520494e2028276f776e6572272c202761646d696e27290a20202020290a2020290000012f2d2d205461736b20436f6d6d656e747320506f6c69636965730a43524541544520504f4c494359202273656c6563745f7461736b5f636f6d6d656e74735f706f6c696379220a20204f4e207461736b5f636f6d6d656e747320464f522053454c4543540a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d207465616d5f7461736b730a202020204a4f494e206d656d62657273204f4e206d656d626572732e776f726b73706163655f6964203d207465616d5f7461736b732e776f726b73706163655f69640a202020205748455245207465616d5f7461736b732e6964203d207461736b5f636f6d6d656e74732e7461736b5f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a202029290000011a43524541544520504f4c4943592022696e736572745f7461736b5f636f6d6d656e74735f706f6c696379220a20204f4e207461736b5f636f6d6d656e747320464f5220494e534552540a20205749544820434845434b202845584953545320280a2020202053454c45435420312046524f4d207465616d5f7461736b730a202020204a4f494e206d656d62657273204f4e206d656d626572732e776f726b73706163655f6964203d207465616d5f7461736b732e776f726b73706163655f69640a202020205748455245207465616d5f7461736b732e6964203d207461736b5f636f6d6d656e74732e7461736b5f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a20202929000000f42d2d20446f63756d656e747320506f6c69636965730a43524541544520504f4c494359202273656c6563745f7465616d5f646f63756d656e74735f706f6c696379220a20204f4e207465616d5f646f63756d656e747320464f522053454c4543540a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d207465616d5f646f63756d656e74732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a20202929000000e343524541544520504f4c4943592022696e736572745f7465616d5f646f63756d656e74735f706f6c696379220a20204f4e207465616d5f646f63756d656e747320464f5220494e534552540a20205749544820434845434b202845584953545320280a2020202053454c45435420312046524f4d206d656d626572730a202020205748455245206d656d626572732e776f726b73706163655f6964203d207465616d5f646f63756d656e74732e776f726b73706163655f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a202029290000013a43524541544520504f4c49435920227570646174655f7465616d5f646f63756d656e74735f706f6c696379220a20204f4e207465616d5f646f63756d656e747320464f52205550444154450a20205553494e4720280a20202020637265617465645f6279203d20617574682e7569642829204f520a2020202045584953545320280a20202020202053454c45435420312046524f4d206d656d626572730a2020202020205748455245206d656d626572732e776f726b73706163655f6964203d207465616d5f646f63756d656e74732e776f726b73706163655f69640a202020202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a202020202020414e44206d656d626572732e726f6c6520494e2028276f776e6572272c202761646d696e27290a20202020290a2020290000014f2d2d20446f63756d656e742056657273696f6e7320506f6c69636965730a43524541544520504f4c494359202273656c6563745f646f63756d656e745f76657273696f6e735f706f6c696379220a20204f4e20646f63756d656e745f76657273696f6e7320464f522053454c4543540a20205553494e47202845584953545320280a2020202053454c45435420312046524f4d207465616d5f646f63756d656e74730a202020204a4f494e206d656d62657273204f4e206d656d626572732e776f726b73706163655f6964203d207465616d5f646f63756d656e74732e776f726b73706163655f69640a202020205748455245207465616d5f646f63756d656e74732e6964203d20646f63756d656e745f76657273696f6e732e646f63756d656e745f69640a20202020414e44206d656d626572732e757365725f6964203d20617574682e75696428290a202029290000017a43524541544520504f4c4943592022696e736572745f646f63756d656e745f76657273696f6e735f706f6c696379220a20204f4e20646f63756d656e745f76657273696f6e7320464f5220494e534552540a20205749544820434845434b202845584953545320280a2020202053454c45435420312046524f4d207465616d5f646f63756d656e74730a202020204a4f494e206d656d62657273204f4e206d656d626572732e776f726b73706163655f6964203d207465616d5f646f63756d656e74732e776f726b73706163655f69640a202020205748455245207465616d5f646f63756d656e74732e6964203d20646f63756d656e745f76657273696f6e732e646f63756d656e745f69640a20202020414e4420280a2020202020207465616d5f646f63756d656e74732e637265617465645f6279203d20617574682e7569642829204f520a2020202020206d656d626572732e726f6c6520494e2028276f776e6572272c202761646d696e27290a20202020290a20202929"}],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE POLICY"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 1"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"lrupsc_1_0","Query":"SELECT path, hash FROM supabase_migrations.seed_files","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"S","Name":"lrupsc_1_0"}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ErrorResponse","Severity":"ERROR","SeverityUnlocalized":"ERROR","Code":"42P01","Message":"relation \"supabase_migrations.seed_files\" does not exist","Detail":"","Hint":"","Position":24,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"parse_relation.c","Line":1371,"Routine":"parserOpenTable","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"SET LOCAL lock_timeout = '4s'","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE SCHEMA IF NOT EXISTS supabase_migrations","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"","Query":"CREATE TABLE IF NOT EXISTS supabase_migrations.seed_files (path text NOT NULL PRIMARY KEY, hash text NOT NULL)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"WARNING","SeverityUnlocalized":"WARNING","Code":"25P01","Message":"SET LOCAL can only be used in transaction blocks","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"xact.c","Line":3577,"Routine":"CheckTransactionBlock","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"SET"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42P06","Message":"schema \"supabase_migrations\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"schemacmds.c","Line":131,"Routine":"CreateSchemaCommand","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE SCHEMA"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Seeding data from supabase/seed.sql...
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"lrupsc_1_1","Query":"INSERT INTO supabase_migrations.seed_files(path, hash) VALUES($1, $2) ON CONFLICT (path) DO UPDATE SET hash = EXCLUDED.hash","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"S","Name":"lrupsc_1_1"}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParameterDescription","ParameterOIDs":[25,25]}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"lrupsc_1_2","Query":"-- Enable pgcrypto extension for password hashing\nCREATE EXTENSION IF NOT EXISTS pgcrypto","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"S","Name":"lrupsc_1_2"}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParameterDescription","ParameterOIDs":[]}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"lrupsc_1_3","Query":"-- Sample Users\nINSERT INTO users (id, email, name, password, role, is_active, created_at, updated_at)\nVALUES\n  ('d0d4e39c-3d0e-4f56-a7c7-9f1b1b6d0aa1', 'admin@example.com', 'Admin User', crypt('admin123', gen_salt('bf')), 'admin', true, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),\n  ('e1d5f49d-4e1f-4f67-b8d8-0f2c2c7e1bb2', 'user@example.com', 'Regular User', crypt('user123', gen_salt('bf')), 'user', true, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),\n  ('f2e6f50e-5f2f-4a78-c9e9-1a3d3d8f2cc3', 'demo@example.com', 'Demo User', crypt('demo123', gen_salt('bf')), 'user', true, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"S","Name":"lrupsc_1_3"}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParameterDescription","ParameterOIDs":[]}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"lrupsc_1_4","Query":"-- Sample Niches\nINSERT INTO niches (id, name, user_id, description, status, created_at, updated_at)\nVALUES\n  ('a1b2c3d4-5e6f-4a8b-9c0d-1e2f3a4b5c6d', 'Digital Marketing', 'd0d4e39c-3d0e-4f56-a7c7-9f1b1b6d0aa1', 'Digital marketing strategies and tips', 'pending', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),\n  ('b2c3d4e5-6f7a-4b8c-0d1e-2f3a4b5c6d7e', 'Content Writing', 'e1d5f49d-4e1f-4f67-b8d8-0f2c2c7e1bb2', 'Content writing best practices', 'pending', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),\n  ('c3d4e5f6-7a8b-4c9d-1e2f-3a4b5c6d7e8f', 'SEO Strategies', 'f2e6f50e-5f2f-4a78-c9e9-1a3d3d8f2cc3', 'SEO optimization techniques', 'pending', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"S","Name":"lrupsc_1_4"}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParameterDescription","ParameterOIDs":[]}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"lrupsc_1_5","Query":"-- Sample Pillars\nINSERT INTO pillars (id, title, niche_id, user_id, status, created_at, updated_at)\nVALUES\n  ('d4e5f6a7-8b9c-4d1e-2f3a-4b5c6d7e8f9a', 'Social Media Marketing', 'a1b2c3d4-5e6f-4a8b-9c0d-1e2f3a4b5c6d', 'd0d4e39c-3d0e-4f56-a7c7-9f1b1b6d0aa1', 'draft', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),\n  ('e5f6a7b8-9c0d-4e2f-3a4b-5c6d7e8f9a0b', 'Blog Writing Tips', 'b2c3d4e5-6f7a-4b8c-0d1e-2f3a4b5c6d7e', 'e1d5f49d-4e1f-4f67-b8d8-0f2c2c7e1bb2', 'draft', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),\n  ('f6a7b8c9-0d1e-4f3a-4b5c-6d7e8f9a0b1c', 'Keyword Research', 'c3d4e5f6-7a8b-4c9d-1e2f-3a4b5c6d7e8f', 'f2e6f50e-5f2f-4a78-c9e9-1a3d3d8f2cc3', 'draft', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"S","Name":"lrupsc_1_5"}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParameterDescription","ParameterOIDs":[]}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2024/12/16 18:41:49 PG Send: {"Type":"Parse","Name":"lrupsc_1_6","Query":"-- Sample Articles\nINSERT INTO articles (id, title, content, pillar_id, user_id, status, keywords, meta_description, created_at, updated_at)\nVALUES\n  ('d0e1f2a3-4b5c-4d6e-7f8a-9b0c1d2e3f4a', 'Instagram Marketing Guide', 'Detailed guide about Instagram marketing...', 'd4e5f6a7-8b9c-4d1e-2f3a-4b5c6d7e8f9a', 'd0d4e39c-3d0e-4f56-a7c7-9f1b1b6d0aa1', 'draft', ARRAY['instagram', 'marketing', 'social media'], 'Complete guide to Instagram marketing', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),\n  ('e1f2a3b4-5c6d-4e7f-8a9b-0c1d2e3f4a5b', 'Writing Engaging Blog Posts', 'Tips for writing engaging blog content...', 'e5f6a7b8-9c0d-4e2f-3a4b-5c6d7e8f9a0b', 'e1d5f49d-4e1f-4f67-b8d8-0f2c2c7e1bb2', 'draft', ARRAY['blogging', 'writing', 'content'], 'Learn to write engaging blog posts', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),\n  ('f2a3b4c5-6d7e-4f8a-9b0c-1d2e3f4a5b6c', 'Long-tail Keywords Guide', 'Understanding and finding long-tail keywords...', 'f6a7b8c9-0d1e-4f3a-4b5c-6d7e8f9a0b1c', 'f2e6f50e-5f2f-4a78-c9e9-1a3d3d8f2cc3', 'draft', ARRAY['seo', 'keywords', 'long-tail'], 'Guide to long-tail keyword research', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)","ParameterOIDs":null}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"S","Name":"lrupsc_1_6"}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParseComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"ParameterDescription","ParameterOIDs":[]}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"lrupsc_1_2","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"lrupsc_1_3","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"lrupsc_1_4","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"lrupsc_1_5","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"lrupsc_1_6","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"lrupsc_1_1","ParameterFormatCodes":[0,0],"Parameters":[{"text":"supabase/seed.sql"},{"text":"76608a1f64ade6f8045a6cc8c60751021e3fcf0b3a16740435eb3748398bb96a"}],"ResultFormatCodes":[]}
2024/12/16 18:41:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2024/12/16 18:41:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2024/12/16 18:41:49 PG Send: {"Type":"Sync"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42710","Message":"extension \"pgcrypto\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"extension.c","Line":1740,"Routine":"CreateExtension","UnknownFields":null}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE EXTENSION"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 3"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 3"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 3"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 3"}
2024/12/16 18:41:49 PG Recv: {"Type":"BindComplete"}
2024/12/16 18:41:49 PG Recv: {"Type":"NoData"}
2024/12/16 18:41:49 PG Recv: {"Type":"CommandComplete","CommandTag":"INSERT 0 1"}
2024/12/16 18:41:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Restarting containers...
2024/12/16 18:41:49 PG Send: {"Type":"Terminate"}
2024/12/16 18:41:49 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:49 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:49 Sent Header: Content-Length [0]
2024/12/16 18:41:49 Send Done
2024/12/16 18:41:49 Connect Start: unix /Users/davidleathers/.docker/run/docker.sock
2024/12/16 18:41:49 Connect Start: unix /Users/davidleathers/.docker/run/docker.sock
2024/12/16 18:41:49 Connect Start: unix /Users/davidleathers/.docker/run/docker.sock
2024/12/16 18:41:49 Connect Done: unix /Users/davidleathers/.docker/run/docker.sock
2024/12/16 18:41:49 Connect Done: unix /Users/davidleathers/.docker/run/docker.sock
2024/12/16 18:41:49 Connect Done: unix /Users/davidleathers/.docker/run/docker.sock
2024/12/16 18:41:49 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:49 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:49 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:49 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:49 Sent Header: Content-Length [0]
2024/12/16 18:41:49 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:49 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:49 Sent Header: Content-Length [0]
2024/12/16 18:41:49 Send Done
2024/12/16 18:41:49 Send Done
2024/12/16 18:41:49 Sent Header: Content-Length [0]
2024/12/16 18:41:49 Send Done
2024/12/16 18:41:49 Recv First Byte
2024/12/16 18:41:49 Recv First Byte
2024/12/16 18:41:50 Recv First Byte
2024/12/16 18:41:51 Recv First Byte
2024/12/16 18:41:51 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:51 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:51 Send Done
2024/12/16 18:41:51 Recv First Byte
2024/12/16 18:41:51 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:51 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:51 Send Done
2024/12/16 18:41:51 Recv First Byte
2024/12/16 18:41:52 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:52 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:52 Send Done
2024/12/16 18:41:52 Recv First Byte
2024/12/16 18:41:53 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:53 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:53 Send Done
2024/12/16 18:41:53 Recv First Byte
2024/12/16 18:41:54 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:54 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:54 Send Done
2024/12/16 18:41:54 Recv First Byte
2024/12/16 18:41:55 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:55 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:55 Send Done
2024/12/16 18:41:55 Recv First Byte
2024/12/16 18:41:56 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:56 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:56 Send Done
2024/12/16 18:41:56 Recv First Byte
2024/12/16 18:41:57 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:57 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:57 Send Done
2024/12/16 18:41:57 Recv First Byte
2024/12/16 18:41:58 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:58 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:58 Send Done
2024/12/16 18:41:58 Recv First Byte
2024/12/16 18:41:59 Sent Header: Host [api.moby.localhost]
2024/12/16 18:41:59 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:41:59 Send Done
2024/12/16 18:41:59 Recv First Byte
2024/12/16 18:42:00 Sent Header: Host [api.moby.localhost]
2024/12/16 18:42:00 Sent Header: User-Agent [Docker-Client/unknown-version (darwin)]
2024/12/16 18:42:00 Send Done
2024/12/16 18:42:00 Recv First Byte
2024/12/16 18:42:00 Connect Start: tcp 127.0.0.1:54321
2024/12/16 18:42:00 Connect Done: tcp 127.0.0.1:54321
2024/12/16 18:42:00 Sent Header: Host [127.0.0.1:54321]
2024/12/16 18:42:00 Sent Header: User-Agent [SupabaseCLI/2.0.0]
2024/12/16 18:42:00 Sent Header: Authorization [Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU]
2024/12/16 18:42:00 Sent Header: Accept-Encoding [gzip]
2024/12/16 18:42:00 Send Done
2024/12/16 18:42:00 Recv First Byte
Creating Storage bucket: public_user_avatars
2024/12/16 18:42:00 Sent Header: Host [127.0.0.1:54321]
2024/12/16 18:42:00 Sent Header: User-Agent [SupabaseCLI/2.0.0]
2024/12/16 18:42:00 Sent Header: Content-Length [132]
2024/12/16 18:42:00 Sent Header: Authorization [Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU]
2024/12/16 18:42:00 Sent Header: Content-Type [application/json]
2024/12/16 18:42:00 Sent Header: Accept-Encoding [gzip]
2024/12/16 18:42:00 Send Done
2024/12/16 18:42:00 Recv First Byte
Creating Storage bucket: documents
2024/12/16 18:42:00 Sent Header: Host [127.0.0.1:54321]
2024/12/16 18:42:00 Sent Header: User-Agent [SupabaseCLI/2.0.0]
2024/12/16 18:42:00 Sent Header: Content-Length [199]
2024/12/16 18:42:00 Sent Header: Authorization [Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU]
2024/12/16 18:42:00 Sent Header: Content-Type [application/json]
2024/12/16 18:42:00 Sent Header: Accept-Encoding [gzip]
2024/12/16 18:42:00 Send Done
2024/12/16 18:42:00 Recv First Byte
Creating Storage bucket: public_article_images
2024/12/16 18:42:00 Sent Header: Host [127.0.0.1:54321]
2024/12/16 18:42:00 Sent Header: User-Agent [SupabaseCLI/2.0.0]
2024/12/16 18:42:00 Sent Header: Content-Length [134]
2024/12/16 18:42:00 Sent Header: Authorization [Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU]
2024/12/16 18:42:00 Sent Header: Content-Type [application/json]
2024/12/16 18:42:00 Sent Header: Accept-Encoding [gzip]
2024/12/16 18:42:00 Send Done
2024/12/16 18:42:00 Recv First Byte
Finished supabase db reset on branch main.
